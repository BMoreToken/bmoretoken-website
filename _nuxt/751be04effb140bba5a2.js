(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{876:function(e,t,r){"use strict";r.r(t);var n,o,c,d,l,m,f,h,S,x,O,v,k,E,I,T,R,A,j,_,D,w,N,y,C,F,G,L,H,U,P,B,M,K,W,X,Y,Q,J,V,$=r(1),z=(r(441),r(305),r(91),r(92),r(145),r(306),r(51)),Z=(r(35),r(45),r(38),r(179),r(74),r(41),r(0)),ee=r(274),te=r(5),re=r(170),ne=r.n(re),ae=r(4),se={step:function(e){return e.step},headerClosed:function(e){return e.headerClosed},language:function(e){return e.language},translationWord:function(e){return ee.a[e.language]},addressInfo:function(e){return e.addressInfo},toBigNumber:function(e,t){return null!=t&&null!=t||(t=0),new BigNumber(t)}},oe=(n={updateContructIndex:function(e,t){e.dispatch;(0,e.commit)("SET_CONTRUCT_INDEX",t.contructTxIndex)},updateCheckingFrom:function(e,t){e.dispatch;(0,e.commit)("SET_CHECKING_ADDRESS_FROM",t.checkingFrom)},updateCheckingTo:function(e,t){e.dispatch;(0,e.commit)("SET_CHECKING_ADDRESS_TO",t.checkingTo)},updateIsMobile:function(e,t){e.dispatch;(0,e.commit)("SET_IS_MOBILE",t.isMobile)}},Object($.a)(n,"updateIsMobile",(function(e,t){e.dispatch;(0,e.commit)("SET_IS_MOBILE",t.isMobile)})),Object($.a)(n,"updateIsMobile",(function(e,t){e.dispatch;(0,e.commit)("SET_IS_MOBILE",t.isMobile)})),Object($.a)(n,"updateStep",(function(e,t){e.dispatch;(0,e.commit)("SET_STEP",t.step)})),Object($.a)(n,"setSendLoading",(function(e,t){e.dispatch;(0,e.commit)("SET_SEND_LOADING",t.loading)})),Object($.a)(n,"setSendingIndex",(function(e,t){e.dispatch;(0,e.commit)("SET_SENDING_INDEX",t.sendingIndex)})),Object($.a)(n,"setCode",(function(e,t){e.dispatch;(0,e.commit)("SET_CODE",t.code)})),Object($.a)(n,"setInputType",(function(e,t){e.dispatch;(0,e.commit)("SET_INPUT_TYPE",t.type)})),Object($.a)(n,"setHeaderClosed",(function(e,t){e.dispatch;(0,e.commit)("SET_HEADER_CLOSED",t.closed)})),Object($.a)(n,"updateLanguage",(function(e,t){e.dispatch;var r=e.commit,n=t.language;try{r("SET_LANGUAGE",n),localStorage.language=n}catch(e){}})),Object($.a)(n,"checkAddressIsValid",(V=Object(Z.a)(regeneratorRuntime.mark((function e(t,r){var address;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch,t.commit,address=r.address,e.abrupt("return","0x0000000000000000000000000000000000000000"!=address&&Object(te.isAddress)(address));case 3:case"end":return e.stop()}}),e)}))),function(e,t){return V.apply(this,arguments)})),Object($.a)(n,"saveAddressesInsertWay",(J=Object(Z.a)(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.rootState,t.rootGetters,t.dispatch,n=t.commit,t.state,o=r.addressesInsertWay;try{n("SET_ADDRESSES_INSERT_WAY",o),localStorage.addressesInsertWay=o}catch(e){}case 3:case"end":return e.stop()}}),e)}))),function(e,t){return J.apply(this,arguments)})),Object($.a)(n,"getCachedLanguage",(Q=Object(Z.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.rootState,t.rootGetters,t.dispatch,t.commit,t.state,r=void 0;try{r=localStorage.language}catch(e){}return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),function(e){return Q.apply(this,arguments)})),Object($.a)(n,"getAddressesInsertWay",(Y=Object(Z.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.rootState,t.rootGetters,t.dispatch,t.commit,t.state,r=0;try{r=localStorage.addressesInsertWay}catch(e){}return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),function(e){return Y.apply(this,arguments)})),Object($.a)(n,"syncUserLastUsedLocalCaches",(X=Object(Z.a)(regeneratorRuntime.mark((function e(t){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.rootState,t.rootGetters,r=t.dispatch,n=t.commit,t.state,e.next=3,r("getAddressesInsertWay");case 3:o=e.sent,n("SET_ADDRESSES_INSERT_WAY",o);case 5:case"end":return e.stop()}}),e)}))),function(e){return X.apply(this,arguments)})),Object($.a)(n,"initBulksender",(W=Object(Z.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.rootState,t.rootGetters,t.dispatch,t.commit,t.state;case 1:case"end":return e.stop()}}),e)}))),function(e){return W.apply(this,arguments)})),Object($.a)(n,"updateCurrentRouter",(K=Object(Z.a)(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.rootState,t.rootGetters,t.dispatch,n=t.commit,t.state,o=r.currentRouter,n("SET_CURRENT_ROUTER",o);case 3:case"end":return e.stop()}}),e)}))),function(e,t){return K.apply(this,arguments)})),Object($.a)(n,"clearUsedParams",(M=Object(Z.a)(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.rootState,t.rootGetters,r=t.dispatch,n=t.commit,t.state,r("bulksender/clearUsedParams",{},{root:!0}),r("token/clearUsedParams",{},{root:!0}),n("SET_CHECKING_ADDRESS_FROM",0),n("SET_CHECKING_ADDRESS_TO",1e3),n("SET_CONTRUCT_INDEX",0);case 6:case"end":return e.stop()}}),e)}))),function(e){return M.apply(this,arguments)})),Object($.a)(n,"initBaseParams",(B=Object(Z.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.rootState,t.rootGetters,t.dispatch,t.commit,t.state;case 1:case"end":return e.stop()}}),e)}))),function(e){return B.apply(this,arguments)})),Object($.a)(n,"getNetIdStorage",(P=Object(Z.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.dispatch,r=t.rootState,t.commit,t.state,n={};try{o=r.metamask.netId,null!=(c=localStorage.getItem("netId"+o))&&null!=c&&(n=JSON.parse(c))}catch(e){}return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),function(e){return P.apply(this,arguments)})),Object($.a)(n,"updateNetIdStorage",(U=Object(Z.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.dispatch,t.commit,n=t.rootState,t.state,o=r.netStorage;try{c=n.metamask.netId,localStorage.setItem("netId"+c,JSON.stringify(o))}catch(e){console.info(e)}case 3:case"end":return e.stop()}}),e)}))),function(e,t){return U.apply(this,arguments)})),Object($.a)(n,"estimateTotalEtherCost",(H=Object(Z.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c,d,l,m,f,h,S,x,O,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.rootState,n=t.rootGetters,o=t.dispatch,c=t.commit,d=t.state,l=r.token.tokenSelected,m=r.bulksender.gasPrice,e.next=5,n["bulksender/txFee"];case 5:f=e.sent,h=Object(ae.a)(d.addressInfo.totalGas).times(Object(ae.a)(m)).times(Object(ae.a)(10).pow(9)),S=Object(ae.a)(f*d.addressInfo.batches.length),x=h.plus(S),l.isETH&&(O=Object(ae.a)(d.addressInfo.finalAmount).times(Object(ae.a)(10).pow(18)),x=x.plus(O)),v=x.div(Object(ae.a)(10).pow(18)).toNumber(),c("SET_ESTIMATED_ETH_COST",v),o("checkEtherEnough");case 14:case"end":return e.stop()}}),e)}))),function(e){return H.apply(this,arguments)})),Object($.a)(n,"checkEtherEnough",(L=Object(Z.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c,d,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.rootState,t.rootGetters,t.dispatch,n=t.commit,o=t.state,c=r.metamask.balance,d=o.estimateETHCost,l=Object(ae.a)(c).toNumber()>=Object(ae.a)(d).toNumber(),n("SET_ETHER_ENOUGH",l),e.abrupt("return",l);case 6:case"end":return e.stop()}}),e)}))),function(e){return L.apply(this,arguments)})),Object($.a)(n,"parseInsertAddresses",(G=Object(Z.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.rootState,n=t.dispatch,t.commit,o=r.insertedAddress,c=(c=o.replace(/(\n[\s|\t]*\r*\n)/g,"\n").replace(/^\s+|\s+$/gm,"")).split("\n"),e.next=6,n("checkInsertAddresses",{addresses:c});case 6:return e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e)}))),function(e,t){return G.apply(this,arguments)})),Object($.a)(n,"updateBulkSentStatus",(F=Object(Z.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d,l,m,f,h,S,x;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.rootState,o=t.dispatch,c=t.commit,d=r.status,l=r.txHash,m=r.uniqueId,f=n.common.addressInfo,h=Object.assign({},f),S=h.batches,(x=Object.assign([],S)).some((function(e,t){var r=Object.assign({},e);if(e.uniqueId==m&&1!=r.status)return r.status=d,r.txHash=l,x.splice(t,1,r),!0})),h.batches=x,c("SET_ADDRESS_INFO",h),o("saveTxsToLocal",{status:d,txHash:l});case 10:case"end":return e.stop()}}),e)}))),function(e,t){return F.apply(this,arguments)})),Object($.a)(n,"prepareBulksending",(C=Object(Z.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c,d,l,address,m,f,h,S,x,O,v,k,E,I,T,R,A,j,_,D,w,N;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.rootState,n=t.state,o=t.dispatch,c=t.commit,d=r.token,l=d.allowanceEnough,address=d.address,!l){e.next=4;break}return e.delegateYield(regeneratorRuntime.mark((function e(){var t,d,l,y,C,F,G,L,H,U,P,B,M,K,W,X,Y,Q,J;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=address,d=r.common.addressInfo,l=r.bulksender,y=l.maxGasUsed,C=l.commonExtraGas,F=Object.assign({},d),G=F.finalData,L=n.queryLimit,m=parseInt(Math.ceil(G.length/parseFloat(n.queryLimit))),H=[],U=[],f=0;case 10:if(!(f<m)){e.next=26;break}return h=f*L,S=L*(f+1),x=G.slice(h,S),O=[],x.forEach((function(e){O.push(e.address)})),c("SET_CHECKING_ADDRESS_FROM",h),S>G.length?(P=G.length,c("SET_CHECKING_ADDRESS_TO",P)):c("SET_CHECKING_ADDRESS_TO",S),console.info("Query balance",h,S),e.next=21,o("token/bulkQueryBalances",{tokenAddress:t,addresses:O},{root:!0});case 21:e.sent.forEach((function(e,t){var r=x[t];r.balance=e,e>0?H.push(r):U.push(r)}));case 23:f++,e.next=10;break;case 26:if(console.info("Holders",H.length),console.info("Freshers",U.length),B=[],M=[],H.some((function(e,t){if(t==n.maxTestingCount)return!0;B.push(e.address),M.push(e.amount)})),K=0,!B.length||!M.length){e.next=37;break}return e.next=35,o("bulksender/estimateGasForPerTransferUsedBulksender",{tokenAddress:t,testAddresses:B,testBalances:M},{root:!0});case 35:K=e.sent,console.info("estimateCostPerTransferOfHolder",K);case 37:if(-1!=K){e.next=39;break}throw Error("estimateCostPerTransferOfHolder error");case 39:if(B=[],M=[],U.some((function(e,t){if(t==n.maxTestingCount)return!0;B.push(e.address),M.push(e.amount)})),W=0,!B.length||!M.length){e.next=48;break}return e.next=46,o("bulksender/estimateGasForPerTransferUsedBulksender",{tokenAddress:t,testAddresses:B,testBalances:M},{root:!0});case 46:W=e.sent,console.info("estimateCostPerTransferOfFresher",W);case 48:if(-1!=W){e.next=50;break}throw Error("estimateCostPerTransferOfFresher error");case 50:X=r.bulksender.baseCallingGas,v=H.length,k=H.concat(U),E=[],I=[],Y=k.length,Q=0,J=0,T=0,f=0;case 60:if(!(f<Y)){e.next=80;break}if(R=k[f],E.push(R),!((T+=f<v?K:W)>=y||f==Y-1)){e.next=77;break}return A=E[0].address,j=E[E.length-1].address,_=Date.parse(new Date)+Q,D=parseInt(100*Math.random()),w="".concat(Q,"-").concat(_,"-").concat(D),T+=X,I.push({uniqueId:w,txHash:"",status:-1,firstAddress:A,index:Q,lastAddress:j,addressValues:E,count:E.length,estimateGas:T}),J+=T,Q+=1,T=0,E=[],e.abrupt("continue",77);case 77:f++,e.next=60;break;case 80:return F.holders=H,F.freshers=U,F.batches=I,F.totalGas=J+C*I.length,F.times=I.length,_=Date.parse(new Date),D=10*Math.random(),N="TASKID_"+_+"_"+D,F.taskID=N,c("SET_ADDRESS_INFO",F),e.next=92,o("estimateTotalEtherCost");case 92:case"end":return e.stop()}}),e)}))(),"t0",4);case 4:return e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e)}))),function(e){return C.apply(this,arguments)})),Object($.a)(n,"saveTxsToLocal",(y=Object(Z.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.dispatch,t.rootState,t.state,t.commit,o=r.status,c=r.txHash,e.prev=2,!(66==c.length&&c.indexOf("0x")>-1)){e.next=13;break}return e.next=6,n("getNetIdStorage",{});case 6:return d=e.sent,null!=(l=d.txs)&&null!=l||(l={}),l[c]=o,d.txs=l,e.next=13,n("updateNetIdStorage",{netStorage:d});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),console.info(e.t0);case 18:case"end":return e.stop()}}),e,null,[[2,15]])}))),function(e,t){return y.apply(this,arguments)})),Object($.a)(n,"updateTxStatusToLocal",(N=Object(Z.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.dispatch,t.rootState,t.state,t.commit,o=r.status,c=r.txHash,e.prev=2,!(66==c.length&&c.indexOf("0x")>-1)){e.next=13;break}return e.next=6,n("getNetIdStorage",{});case 6:if(d=e.sent,null==(l=d.txs)||null==l||!l.hasOwnProperty(c)){e.next=13;break}return l[c]=o,d.txs=l,e.next=13,n("updateNetIdStorage",{netStorage:d});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),console.info(e.t0);case 18:case"end":return e.stop()}}),e,null,[[2,15]])}))),function(e,t){return N.apply(this,arguments)})),Object($.a)(n,"getLastTxs",(w=Object(Z.a)(regeneratorRuntime.mark((function e(t){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,t.rootState,t.state,t.commit,n={},e.prev=2,e.next=5,r("getNetIdStorage",{});case 5:return o=e.sent,e.abrupt("return",o.txs);case 9:e.prev=9,e.t0=e.catch(2);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,null,[[2,9]])}))),function(e){return w.apply(this,arguments)})),Object($.a)(n,"getDelegater",(D=Object(Z.a)(regeneratorRuntime.mark((function e(t){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,t.rootState,t.state,t.commit,n={},e.prev=2,e.next=5,r("getNetIdStorage",{});case 5:o=e.sent,null!=(n=o.delegater)&&null!=n||(n={}),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,null,[[2,10]])}))),function(e){return D.apply(this,arguments)})),Object($.a)(n,"checkDelegater",(_=Object(Z.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,t.rootState,t.state,t.commit,e.prev=1,e.next=4,r("getDelegater");case 4:if(n=e.sent,0!=Object.keys(n)){e.next=15;break}return e.next=8,r("bulksender/createBurnKey",{},{root:!0});case 8:return n=e.sent,e.next=11,r("getNetIdStorage",{});case 11:return(o=e.sent).delegater=n,e.next=15,r("updateNetIdStorage",{netStorage:o});case 15:return c=n,e.next=18,r("bulksender/saveBurnerKey",{burnerKey:c},{root:!0});case 18:e.next=22;break;case 20:e.prev=20,e.t0=e.catch(1);case 22:case"end":return e.stop()}}),e,null,[[1,20]])}))),function(e){return _.apply(this,arguments)})),Object($.a)(n,"clearLocalTxs",(j=Object(Z.a)(regeneratorRuntime.mark((function e(t){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,t.rootState,t.state,t.commit,e.prev=1,e.next=4,r("getNetIdStorage",{});case 4:return(n=e.sent).txs={},null!=n.delegater&&null!=n.usedDelegater&&1==n.usedDelegater&&(null==(o=n.trashDelegaters)&&(o=[]),o.push(n.delegater),n.trashDelegaters=o,n.delegater={},n.usedDelegater=!1),e.next=9,r("updateNetIdStorage",{netStorage:n});case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(1);case 13:case"end":return e.stop()}}),e,null,[[1,11]])}))),function(e){return j.apply(this,arguments)})),Object($.a)(n,"saveUsedDelegater",(A=Object(Z.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,t.rootState,t.state,t.commit,o=r.usedDelegater,e.prev=2,e.next=5,n("getNetIdStorage",{});case 5:return(c=e.sent).usedDelegater=o,e.next=9,n("updateNetIdStorage",{netStorage:c});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.info(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])}))),function(e,t){return A.apply(this,arguments)})),Object($.a)(n,"saveLastUsedWalletName",(R=Object(Z.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,t.rootState,t.state,t.commit,o=r.walletName,e.prev=2,e.next=5,n("getNetIdStorage",{});case 5:return(c=e.sent).walletName=o,e.next=9,n("updateNetIdStorage",{netStorage:c});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.info(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])}))),function(e,t){return R.apply(this,arguments)})),Object($.a)(n,"saveLastUsedProviderName",(T=Object(Z.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,t.rootState,t.state,t.commit,o=r.providerName,e.prev=2,e.next=5,n("getNetIdStorage",{});case 5:return(c=e.sent).providerName=o,e.next=9,n("updateNetIdStorage",{netStorage:c});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.info(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])}))),function(e,t){return T.apply(this,arguments)})),Object($.a)(n,"resetLastUsedProviderName",(I=Object(Z.a)(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.dispatch,t.rootState,t.state,t.commit,Object(z.a)(r),n("saveLastUsedProviderName",{providerName:""}),n("saveLastUsedWalletName",{walletName:""});case 6:case"end":return e.stop()}}),e)}))),function(e,t){return I.apply(this,arguments)})),Object($.a)(n,"getLastUsedProvider",(E=Object(Z.a)(regeneratorRuntime.mark((function e(t){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,t.rootState,t.state,t.commit,n="",e.prev=2,e.next=5,r("getNetIdStorage",{});case 5:return o=e.sent,e.abrupt("return",o.providerName);case 9:e.prev=9,e.t0=e.catch(2);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,null,[[2,9]])}))),function(e){return E.apply(this,arguments)})),Object($.a)(n,"getLastUsedWalletName",(k=Object(Z.a)(regeneratorRuntime.mark((function e(t){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,t.rootState,t.state,t.commit,n="",e.prev=2,e.next=5,r("getNetIdStorage",{});case 5:return o=e.sent,e.abrupt("return",o.walletName);case 9:e.prev=9,e.t0=e.catch(2);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,null,[[2,9]])}))),function(e){return k.apply(this,arguments)})),Object($.a)(n,"checkLastTxs",(v=Object(Z.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.rootState,t.state,r=t.dispatch,n=t.commit,e.next=3,r("getLastTxs");case 3:if(null==(o=e.sent)||null==o){e.next=23;break}c=!1,e.t0=regeneratorRuntime.keys(o);case 7:if((e.t1=e.t0()).done){e.next=14;break}if(!((d=e.t1.value).indexOf("0x")>-1&&66==d.length&&0==o[d])){e.next=12;break}return c=!0,e.abrupt("break",14);case 12:e.next=7;break;case 14:if(!c){e.next=19;break}return n("SET_UNFINISHED_TXS",o),e.abrupt("return",o);case 19:return e.next=21,r("clearLocalTxs");case 21:return n("SET_UNFINISHED_TXS",{}),e.abrupt("return",{});case 23:return e.abrupt("return",{});case 24:case"end":return e.stop()}}),e)}))),function(e){return v.apply(this,arguments)})),Object($.a)(n,"checkContractsError",(O=Object(Z.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c,d,l,m,f,h,S,x,O,v,k,E,I,T,R;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.state,n=t.rootState,o=t.commit,t.rootGetters,c=t.dispatch,d=n.common.addressInfo,l=Object.assign({},d),m=l.validData,f=r.queryLimit,h=parseInt(Math.ceil(m.length/parseFloat(r.queryLimit))),S=[],x=[],O=Object(ae.a)(d.validAmount),v=[],k=0;case 11:if(!(k<h)){e.next=24;break}return E=k*f,I=f*(k+1),T=m.slice(E,I),R=[],T.forEach((function(e,t){R.push(e.address)})),e.next=19,c("token/checkAddressIsContract",{addresses:R},{root:!0});case 19:e.sent.forEach((function(address,e){var t=T[e];if("0x0000000000000000000000000000000000000000"!=address){S.push({index:e,address:t.address,errorType:3}),x.push(e);var r=Object(ae.a)(t.amount);O=O.minus(r)}else v.push(t)}));case 21:k++,e.next=11;break;case 24:if(!(x.length>0)){e.next=31;break}return l.validData=v,l.validAmount=O.toNumber(),l.invalidAddressesIndexes=x,l.invalidAddresses=S,o("SET_ADDRESS_INFO",l),e.abrupt("return",!0);case 31:return e.abrupt("return",!1);case 32:case"end":return e.stop()}}),e)}))),function(e){return O.apply(this,arguments)})),Object($.a)(n,"checkInsertAddresses",(x=Object(Z.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d,l,m,f,h,S,x,O,v,k,E,I;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.rootState,o=t.commit,c=r.addresses,d=n.token.tokenSelected,l=18,null!=d&&(l=d.decimals),m=new Set,f=[],h=new Set,S=[],x=Object(ae.a)(0),O=Object(ae.a)(0),v=[],k=[],E=[],I=[],c.forEach((function(e,t){var r=e.split(",");r.length<2&&(r=e.split("，"));var address=r[0].replace(/(\n[\s|\t]*\r*\n)/g,"\n").replace(/^\s+|\s+$/gm,""),n=r[1],o=!0,c=!1;if(!Object(te.isAddress)(address)||"0x0000000000000000000000000000000000000000"==address.toLowerCase()||isNaN(n)){var d=0;(isNaN(n)||0==n||"0"==n)&&(d=1,Object(te.isAddress)(address)||(d=2)),h.add({index:t,address:address,errorType:d}),S.push(t),o=!1}else{var T=!1,R=n.toString().split(".");if(R.length>1&&R[1].length>l&&(T=!0),T)d=4,h.add({index:t,address:address,errorType:d}),S.push(t),o=!1;else{address=Object(te.toChecksumAddress)(address);var A=Object(ae.a)(n);n=A.toNumber(),O=O.plus(A),v.push({address:address,amount:n,amountStr:A.toString(10)}),-1==I.indexOf(address)?(I.push(address),k.push({address:address,amount:n,amountStr:A.toString(10)}),x=x.plus(A)):(c=!0,m.add(address),f.push(t))}}var j=n;try{j=Object(ae.a)(n).toString(10)}catch(e){}E.push({address:address,amount:n,amountStr:j,valid:o,duplicated:c})})),x=x.toNumber(),O=O.toNumber(),m=Array.from(m),h=Array.from(h),o("SET_ADDRESS_INFO",{validAmount:O,nonDuplicatedAmount:x,originalData:E,originalAddressStr:c,duplicatedAddresses:m,duplicatedAddressesIndexes:f,invalidAddresses:h,invalidAddressesIndexes:S,validData:v,nonDuplicatedData:k,finalData:E,finalAmount:x});case 22:case"end":return e.stop()}}),e)}))),function(e,t){return x.apply(this,arguments)})),Object($.a)(n,"combineBalances",(S=Object(Z.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rootState,o=t.commit,t.dispatch,t.state,Object(z.a)(r),c=[],d=n.common.addressInfo,(l=Object.assign({},d)).validData.forEach((function(e){this[e.address]||(this[e.address]={address:e.address,amount:Object(ae.a)(0)},c.push(this[e.address]));var t=Object(ae.a)(e.amount),r=Object(ae.a)(this[e.address].amount);this[e.address].amount=r.plus(t).toNumber(),this[e.address].amountStr=r.plus(t).toString(10)}),Object.create(null)),l.combinedData=c,l.finalData=c,l.finalAmount=d.validAmount,l.invalidAddressesIndexes=[],l.invalidAddresses=[],l.duplicatedAddressesIndexes=[],l.duplicatedAddresses=[],o("SET_ADDRESS_INFO",l),e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e)}))),function(e,t){return S.apply(this,arguments)})),Object($.a)(n,"keepFirstOne",(h=Object(Z.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rootState,o=t.commit,t.dispatch,t.state,Object(z.a)(r),c=n.common.addressInfo,(d=Object.assign({},c)).finalData=c.nonDuplicatedData,d.finalAmount=c.nonDuplicatedAmount,d.invalidAddressesIndexes=[],d.invalidAddresses=[],d.duplicatedAddressesIndexes=[],d.duplicatedAddresses=[],o("SET_ADDRESS_INFO",d),e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e)}))),function(e,t){return h.apply(this,arguments)})),Object($.a)(n,"keepDuplicated",(f=Object(Z.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rootState,o=t.commit,t.dispatch,t.state,Object(z.a)(r),c=n.common.addressInfo,(d=Object.assign({},c)).finalData=d.validData,d.finalAmount=c.validAmount,d.invalidAddressesIndexes=[],d.invalidAddresses=[],d.duplicatedAddressesIndexes=[],d.duplicatedAddresses=[],o("SET_ADDRESS_INFO",d),e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e)}))),function(e,t){return f.apply(this,arguments)})),Object($.a)(n,"deleteInvalidAddresses",(m=Object(Z.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d,l,m,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rootState,o=t.commit,t.dispatch,t.state,Object(z.a)(r),c=n.common.addressInfo,d=Object.assign({},c),l=d.validData,d.duplicatedAddressesIndexes.length>0&&(m=[],f=[],l.forEach((function(e,t){-1!=m.indexOf(e.address)?f.push(t):m.push(e.address)})),d.duplicatedAddressesIndexes=f),d.finalData=l,d.finalAmount=c.validAmount,d.invalidAddressesIndexes=[],d.invalidAddresses=[],o("SET_ADDRESS_INFO",d),e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e)}))),function(e,t){return m.apply(this,arguments)})),Object($.a)(n,"readFileAsync",(l=Object(Z.a)(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.rootState,t.commit,t.dispatch,t.state,n=r.fileData,o=n,e.abrupt("return",new Promise((function(e,t){var r=new FileReader;r.onload=function(){for(var t="",n=new Uint8Array(r.result),o=n.byteLength,i=0;i<o;i++)t+=String.fromCharCode(n[i]);var c=ne.a.read(t,{type:"binary"}),d=c.SheetNames[0],l=c.Sheets[d],data=ne.a.utils.sheet_to_csv(l);e(data)},r.onerror=t,r.readAsArrayBuffer(o)})));case 4:case"end":return e.stop()}}),e)}))),function(e,t){return l.apply(this,arguments)})),Object($.a)(n,"parseFile",(d=Object(Z.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.rootState,t.commit,n=t.dispatch,t.rootGetters,t.state,o=r.fileData,e.prev=2,e.next=5,n("readFileAsync",{fileData:o});case 5:return c=e.sent,e.next=8,n("parseInsertAddresses",{insertedAddress:c});case 8:return e.abrupt("return",!0);case 11:return e.prev=11,e.t0=e.catch(2),console.info(e.t0),e.next=16,n("uploadFile",{fileData:o});case 16:return d=e.sent,e.abrupt("return",d);case 18:case"end":return e.stop()}}),e,null,[[2,11]])}))),function(e,t){return d.apply(this,arguments)})),Object($.a)(n,"uploadFile",(c=Object(Z.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,data,d,l,m,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rootState,t.commit,o=t.dispatch,t.rootGetters,t.state,c=r.fileData,n.metamask.netId,e.prev=3,(data=new FormData).append("file",c),d=new Request("http://127.0.0.1:5000/upload",{method:"POST",body:data}),e.next=10,fetch(d);case 10:if(200!==(l=e.sent).status){e.next=26;break}return e.next=14,l.json();case 14:if(0!=(m=e.sent).code&&!m.success){e.next=22;break}return f=m.data,e.next=19,o("checkInsertAddresses",{addresses:f});case 19:return e.abrupt("return",!0);case 22:throw Error("Upload file failed");case 24:e.next=28;break;case 26:throw Error("Upload file failed");case 28:e.next=34;break;case 30:return e.prev=30,e.t0=e.catch(3),console.error(e.t0),e.abrupt("return",!1);case 34:case"end":return e.stop()}}),e,null,[[3,30]])}))),function(e,t){return c.apply(this,arguments)})),Object($.a)(n,"checkUnfinishedTransactionStatus",(o=Object(Z.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d,l,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,n=t.rootGetters,t.rootState,o=t.dispatch,t.commit,c=r.txHash,d=n["metamask/networkConfig"].smartContractShortPollTime,e.prev=3,console.info(c),e.next=7,o("metamask/getTransactionReceipt",{txHash:c},{root:!0});case 7:if(null==(l=e.sent)){e.next=17;break}return m="0x1"==(m=l.status)||1==m?1:-2,e.next=13,o("updateTxStatusToLocal",{status:m,txHash:c});case 13:return e.next=15,o("checkLastTxs",{});case 15:e.next=18;break;case 17:setTimeout((function(){o("checkUnfinishedTransactionStatus",{txHash:c})}),1e3*d);case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(3),console.info("checking error",e.t0),setTimeout((function(){o("checkUnfinishedTransactionStatus")}),1e3*d);case 24:case"end":return e.stop()}}),e,null,[[3,20]])}))),function(e,t){return o.apply(this,arguments)})),n);t.default={namespaced:!0,state:function(){return{step:1,language:"EN",headerClosed:!1,translationWord:{},inputType:0,addressesInsertWay:0,code:"",estimateETHCost:0,etherEnough:!0,queryLimit:1e3,maxTestingCount:20,estimateCostPerTransferOfFresher:4e4,estimateCostPerTransferOfHolder:25e3,sendLoading:!1,sendingIndex:0,unFinishedTxs:{},currentRouter:null,checkingAddressFrom:0,checkingAddressTo:1e3,contructTxIndex:0,isMobile:!1,addressInfo:{taskID:"",nonAmount:0,validAmount:0,nonDuplicatedAmount:0,originalData:[],originalAddressStr:[],duplicatedAddresses:[],duplicatedAddressesIndexes:[],invalidAddresses:[],invalidAddressesIndexes:[],validData:[],combinedData:[],nonDuplicatedData:[],finalData:[],finalAmount:0,batches:[],times:1,batchSize:100,holders:[],freshers:[],estimateGasUsed:0}}},getters:se,mutations:{SET_STEP:function(e,t){e.step=t},SET_INPUT_TYPE:function(e,t){e.inputType=t},SET_CODE:function(e,code){e.code=code},SET_HEADER_CLOSED:function(e,t){e.headerClosed=t},SET_LANGUAGE:function(e,t){e.language=t},SET_ORIGIN_INPUT_DATA:function(e,t){e.originInputData=t},SET_ADDRESS_INFO:function(e,t){e.addressInfo=t},SET_ESTIMATED_COST_PER_TRANSFER_OF_FRESHER:function(e,t){e.estimateCostPerTransferOfFresher=t},SET_ESTIMATED_COST_PER_TRANSFER_OF_HOLDER:function(e,t){e.estimateCostPerTransferOfHolder=t},SET_SEND_LOADING:function(e,t){e.sendLoading=t},SET_ESTIMATED_ETH_COST:function(e,t){e.estimateETHCost=t},SET_ETHER_ENOUGH:function(e,t){e.etherEnough=t},SET_ADDRESSES_INSERT_WAY:function(e,t){e.addressesInsertWay=t},SET_SENDING_INDEX:function(e,t){e.sendingIndex=t},SET_UNFINISHED_TXS:function(e,t){e.unFinishedTxs=t},SET_CURRENT_ROUTER:function(e,t){e.currentRouter=t},SET_IS_MOBILE:function(e,t){e.isMobile=t},SET_CONTRUCT_INDEX:function(e,t){e.contructTxIndex=t},SET_CHECKING_ADDRESS_FROM:function(e,t){e.checkingAddressFrom=t},SET_CHECKING_ADDRESS_TO:function(e,t){e.checkingAddressTo=t}},actions:oe}},886:function(e,t,r){"use strict";r.r(t);var n,o,c,d,l,m,f,h,S,x,O,v,k,E,I,T,R,A,j,_,D,w,N,y,C,F,G,L,H,U,P,B,M,K,W,X,Y,Q,J,V,$,z,Z,ee,te,re,ne,ae,se,oe,ce,ue,ie,de,pe=r(1),le=(r(441),r(305),r(223),r(145),r(306),r(117)),me=r(51),fe=(r(45),r(38),r(179),r(74),r(91),r(92),r(35),r(41),r(0)),he=r(274),ge=r(5),be=r(170),Se=r.n(be),xe=r(4),Oe={step:function(e){return e.step},headerClosed:function(e){return e.headerClosed},language:function(e){return e.language},translationWord:function(e){return he.a[e.language]},addressInfo:function(e){return e.addressInfo},toBigNumber:function(e,t){return null!=t&&null!=t||(t=0),new BigNumber(t)}},ve=(n={updateContructIndex:function(e,t){e.dispatch;(0,e.commit)("SET_CONTRUCT_INDEX",t.contructTxIndex)},updateCheckingFrom:function(e,t){e.dispatch;(0,e.commit)("SET_CHECKING_ADDRESS_FROM",t.checkingFrom)},updateCheckingTo:function(e,t){e.dispatch;(0,e.commit)("SET_CHECKING_ADDRESS_TO",t.checkingTo)},updateIsMobile:function(e,t){e.dispatch;(0,e.commit)("SET_IS_MOBILE",t.isMobile)}},Object(pe.a)(n,"updateIsMobile",(function(e,t){e.dispatch;(0,e.commit)("SET_IS_MOBILE",t.isMobile)})),Object(pe.a)(n,"updateIsMobile",(function(e,t){e.dispatch;(0,e.commit)("SET_IS_MOBILE",t.isMobile)})),Object(pe.a)(n,"updateStep",(function(e,t){e.dispatch;(0,e.commit)("SET_STEP",t.step)})),Object(pe.a)(n,"setSendLoading",(function(e,t){e.dispatch;(0,e.commit)("SET_SEND_LOADING",t.loading)})),Object(pe.a)(n,"setSendingIndex",(function(e,t){e.dispatch;(0,e.commit)("SET_SENDING_INDEX",t.sendingIndex)})),Object(pe.a)(n,"setCode",(function(e,t){e.dispatch;(0,e.commit)("SET_CODE",t.code)})),Object(pe.a)(n,"setInputType",(function(e,t){e.dispatch;(0,e.commit)("SET_INPUT_TYPE",t.type)})),Object(pe.a)(n,"setHeaderClosed",(function(e,t){e.dispatch;(0,e.commit)("SET_HEADER_CLOSED",t.closed)})),Object(pe.a)(n,"updateLanguage",(function(e,t){e.dispatch;var r=e.commit,n=t.language;try{r("SET_LANGUAGE",n),localStorage.language=n}catch(e){}})),Object(pe.a)(n,"checkAddressIsValid",(de=Object(fe.a)(regeneratorRuntime.mark((function e(t,r){var address;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch,t.commit,address=r.address,e.abrupt("return","0x0000000000000000000000000000000000000000"!=address&&Object(ge.isAddress)(address));case 3:case"end":return e.stop()}}),e)}))),function(e,t){return de.apply(this,arguments)})),Object(pe.a)(n,"checkTheAddressIsContract",(ie=Object(fe.a)(regeneratorRuntime.mark((function e(t,r){var n,address,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,t.commit,address=r.address,e.prev=2,e.next=5,n("token/checkAddressIsContract",{addresses:[address]},{root:!0});case 5:if(!((o=e.sent).length>0)){e.next=8;break}return e.abrupt("return","0x0000000000000000000000000000000000000000"!=o[0]);case 8:return e.abrupt("return",!1);case 11:return e.prev=11,e.t0=e.catch(2),e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])}))),function(e,t){return ie.apply(this,arguments)})),Object(pe.a)(n,"saveAddressesInsertWay",(ue=Object(fe.a)(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.rootState,t.rootGetters,t.dispatch,n=t.commit,t.state,o=r.addressesInsertWay;try{n("SET_ADDRESSES_INSERT_WAY",o),localStorage.addressesInsertWay=o}catch(e){}case 3:case"end":return e.stop()}}),e)}))),function(e,t){return ue.apply(this,arguments)})),Object(pe.a)(n,"getCachedLanguage",(ce=Object(fe.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.rootState,t.rootGetters,t.dispatch,t.commit,t.state,r=void 0;try{r=localStorage.language}catch(e){}return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),function(e){return ce.apply(this,arguments)})),Object(pe.a)(n,"getAddressesInsertWay",(oe=Object(fe.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.rootState,t.rootGetters,t.dispatch,t.commit,t.state,r=0;try{r=localStorage.addressesInsertWay}catch(e){}return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),function(e){return oe.apply(this,arguments)})),Object(pe.a)(n,"syncUserLastUsedLocalCaches",(se=Object(fe.a)(regeneratorRuntime.mark((function e(t){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.rootState,t.rootGetters,r=t.dispatch,n=t.commit,t.state,e.next=3,r("getAddressesInsertWay");case 3:o=e.sent,n("SET_ADDRESSES_INSERT_WAY",o);case 5:case"end":return e.stop()}}),e)}))),function(e){return se.apply(this,arguments)})),Object(pe.a)(n,"initBulksender",(ae=Object(fe.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.rootState,t.rootGetters,t.dispatch,t.commit,t.state;case 1:case"end":return e.stop()}}),e)}))),function(e){return ae.apply(this,arguments)})),Object(pe.a)(n,"updateCurrentRouter",(ne=Object(fe.a)(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.rootState,t.rootGetters,t.dispatch,n=t.commit,t.state,o=r.currentRouter,n("SET_CURRENT_ROUTER",o);case 3:case"end":return e.stop()}}),e)}))),function(e,t){return ne.apply(this,arguments)})),Object(pe.a)(n,"clearUsedParams",(re=Object(fe.a)(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.rootState,t.rootGetters,r=t.dispatch,n=t.commit,t.state,e.next=3,r("bulksender/clearUsedParams",{},{root:!0});case 3:return e.next=5,r("token/clearUsedParams",{},{root:!0});case 5:n("SET_CHECKING_ADDRESS_FROM",0),n("SET_CHECKING_ADDRESS_TO",1e3),n("SET_CONTRUCT_INDEX",0),r("metamask/lockGasPriceOracle",{gasPriceOracleLocked:!1},{root:!0});try{r("metamask/fetchETHBalance",{},{root:!0})}catch(e){}case 11:case"end":return e.stop()}}),e)}))),function(e){return re.apply(this,arguments)})),Object(pe.a)(n,"initBaseParams",(te=Object(fe.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.rootState,t.rootGetters,t.dispatch,t.commit,t.state;case 1:case"end":return e.stop()}}),e)}))),function(e){return te.apply(this,arguments)})),Object(pe.a)(n,"getNetIdStorage",(ee=Object(fe.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.dispatch,r=t.rootState,t.commit,t.state,n={};try{o=r.metamask.netId,null!=(c=localStorage.getItem("netId"+o))&&null!=c&&(n=JSON.parse(c))}catch(e){}return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),function(e){return ee.apply(this,arguments)})),Object(pe.a)(n,"updateNetIdStorage",(Z=Object(fe.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.dispatch,t.commit,n=t.rootState,t.state,o=r.netStorage;try{c=n.metamask.netId,localStorage.setItem("netId"+c,JSON.stringify(o))}catch(e){console.info(e)}case 3:case"end":return e.stop()}}),e)}))),function(e,t){return Z.apply(this,arguments)})),Object(pe.a)(n,"estimateTotalEtherCost",(z=Object(fe.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c,d,l,m,f,h,S,x,O,v,k;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.rootState,n=t.rootGetters,o=t.dispatch,c=t.commit,d=t.state,l=r.token.tokenSelected,m=r.bulksender.gasPrice,e.next=5,n["bulksender/txFee"];case 5:f=e.sent,h=Object(xe.a)(d.addressInfo.totalGas).times(Object(xe.a)(m)).times(Object(xe.a)(10).pow(9)),S=null==d.addressInfo.batches?0:d.addressInfo.batches.length,x=Object(xe.a)(f*S),O=h.plus(x),l.isETH&&(v=Object(xe.a)(d.addressInfo.finalAmount).times(Object(xe.a)(10).pow(18)),O=O.plus(v)),k=O.div(Object(xe.a)(10).pow(18)).toString(10),c("SET_ESTIMATED_ETH_COST",k),o("checkEtherEnough");case 14:case"end":return e.stop()}}),e)}))),function(e){return z.apply(this,arguments)})),Object(pe.a)(n,"estimateExtraFee",($=Object(fe.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c,d,l,m,f,h,S,x,O,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.rootState,n=t.rootGetters,o=t.dispatch,t.commit,c=t.state,e.prev=1,d=n["metamask/networkConfig"],l=d.extraFeeOracle,d.supportExtraFee){e.next=5;break}throw Error("Not supported");case 5:if(0!=(m=r.metamask.ethPrice)){e.next=8;break}throw Error("Not supported");case 8:return f=Object(xe.a)(l.feeRate).div(Object(xe.a)(1e3)),h=r.token.price,r.token.tokenSelected.isETH&&(h=m),S=c.addressInfo.finalAmount,x=Object(xe.a)(S).times(Object(xe.a)(h)),O=Object(xe.a)(x.times(f).div(Object(xe.a)(m)).toFixed(18)),v=O.times(Object(xe.a)(10).pow(18)).toString(10),e.next=18,o("bulksender/setExtraFee",{extraFee:v},{root:!0});case 18:e.next=25;break;case 20:return e.prev=20,e.t0=e.catch(1),e.next=24,o("bulksender/setExtraFee",{extraFee:0},{root:!0});case 24:return e.abrupt("return",0);case 25:case"end":return e.stop()}}),e,null,[[1,20]])}))),function(e){return $.apply(this,arguments)})),Object(pe.a)(n,"checkTheLessBalance",(V=Object(fe.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c,d,l,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.rootState,n=t.rootGetters,t.dispatch,o=t.commit,t.state,c=r.metamask.balance,d=Object(xe.a)(c).times(Object(xe.a)(10).pow(18)),e.next=5,n["bulksender/txFee"];case 5:return l=e.sent,m=d.gte(Object(xe.a)(l)),o("SET_ETHER_ENOUGH",m),o("SET_BASE_FEE_ENOUGH",m),e.abrupt("return",m);case 10:case"end":return e.stop()}}),e)}))),function(e){return V.apply(this,arguments)})),Object(pe.a)(n,"sendGAEvent",(J=Object(fe.a)(regeneratorRuntime.mark((function e(t){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.eventCategory,n=t.eventAction,o=t.eventLabel;try{ga("send",{hitType:"event",eventCategory:r,eventAction:n,eventLabel:o})}catch(e){}case 2:case"end":return e.stop()}}),e)}))),function(e){return J.apply(this,arguments)})),Object(pe.a)(n,"checkEtherEnough",(Q=Object(fe.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c,d,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.rootState,t.rootGetters,t.dispatch,n=t.commit,o=t.state,c=r.metamask.balance,d=o.estimateETHCost,l=Object(xe.a)(c).gte(Object(xe.a)(d)),n("SET_ETHER_ENOUGH",l),e.abrupt("return",l);case 6:case"end":return e.stop()}}),e)}))),function(e){return Q.apply(this,arguments)})),Object(pe.a)(n,"parseInsertAddresses",(Y=Object(fe.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.rootState,n=t.dispatch,t.commit,o=r.insertedAddress,c=(c=o.replace(/(\n[\s|\t]*\r*\n)/g,"\n").replace(/^\s+|\s+$/gm,"")).split("\n"),e.next=6,n("checkInsertAddresses",{addresses:c});case 6:return e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e)}))),function(e,t){return Y.apply(this,arguments)})),Object(pe.a)(n,"updateBulkSentStatus",(X=Object(fe.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d,l,m,f,h,S,x;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.rootState,o=t.dispatch,c=t.commit,d=r.status,l=r.txHash,m=r.uniqueId,f=n.common.addressInfo,h=Object.assign({},f),S=h.batches,(x=Object.assign([],S)).some((function(e,t){var r=Object.assign({},e);if(e.uniqueId==m&&1!=r.status)return r.status=d,r.txHash=l,x.splice(t,1,r),!0})),h.batches=x,c("SET_ADDRESS_INFO",h),o("saveTxsToLocal",{status:d,txHash:l});case 10:case"end":return e.stop()}}),e)}))),function(e,t){return X.apply(this,arguments)})),Object(pe.a)(n,"prepareBulksending",(W=Object(fe.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c,d,l,m,address,f,h,S,x,O,v,k,E,I,T,R,A,j,_,D,w,N,y,C,F;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.rootState,n=t.state,o=t.dispatch,c=t.commit,d=r.token,l=d.allowanceEnough,m=d.balanceEnough,address=d.address,e.next=4,o("checkTheLessBalance");case 4:if(f=e.sent,!(l&&m&&f)){e.next=7;break}return e.delegateYield(regeneratorRuntime.mark((function e(){var t,d,l,m,f,G,L,H,U,P,B,M,K,W,X,Y,Q,J,V,$;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=address,d=r.common.addressInfo,l=r.bulksender,m=l.maxGasUsed,f=l.commonExtraGas,G=Object.assign({},d),L=G.finalData,H=n.queryLimit,h=parseInt(Math.ceil(L.length/parseFloat(H))),U=[],P=[],S=0;case 10:if(!(S<h)){e.next=27;break}return x=S*H,O=H*(S+1),v=L.slice(x,O),k=[],E=[],v.forEach((function(e){k.push(e.address),null!=e.tokenId&&E.push(e.tokenId)})),c("SET_CHECKING_ADDRESS_FROM",x),O>L.length?(B=L.length,c("SET_CHECKING_ADDRESS_TO",B)):c("SET_CHECKING_ADDRESS_TO",O),console.info("Query balance",x,O),e.next=22,o("token/bulkQueryBalances",{tokenAddress:t,addresses:k,tokenIds:E},{root:!0});case 22:e.sent.forEach((function(e,t){var r=v[t];r.balance=e,e>0?U.push(r):P.push(r)}));case 24:S++,e.next=10;break;case 27:if(console.info("Holders",U.length,"Freshers",P.length),M=[],K=[],W=[],U.some((function(e,t){if(t==n.maxTestingCount)return!0;M.push(e.address),K.push(e.amount),null!=e.tokenId&&W.push(e.tokenId)})),X=0,!M.length||!K.length){e.next=38;break}return e.next=36,o("bulksender/estimateGasForPerTransferUsedBulksender",{tokenAddress:t,testAddresses:M,testBalances:K,testTokenIds:W},{root:!0});case 36:X=e.sent,console.info("estimateCostPerTransferOfHolder",X);case 38:if(-1!=X){e.next=40;break}throw Error("estimateCostPerTransferOfHolder error");case 40:if(M=[],K=[],W=[],P.some((function(e,t){if(t==n.maxTestingCount)return!0;M.push(e.address),K.push(e.amount),null!=e.tokenId&&W.push(e.tokenId)})),Y=0,!M.length||!K.length){e.next=50;break}return e.next=48,o("bulksender/estimateGasForPerTransferUsedBulksender",{tokenAddress:t,testAddresses:M,testBalances:K,testTokenIds:W},{root:!0});case 48:Y=e.sent,console.info("estimateCostPerTransferOfFresher",Y);case 50:if(-1!=Y){e.next=52;break}throw Error("estimateCostPerTransferOfFresher error");case 52:Q=r.bulksender.baseCallingGas,I=U.length,T=U.concat(P),R=[],A=[],J=T.length,V=0,$=0,j=0,S=0;case 62:if(!(S<J)){e.next=82;break}if(_=T[S],R.push(_),!((j+=S<I?X:Y)>=m||S==J-1)){e.next=79;break}return D=R[0].address,w=R[R.length-1].address,N=Date.parse(new Date)+V,y=parseInt(100*Math.random()),C="".concat(V,"-").concat(N,"-").concat(y),j+=Q,A.push({uniqueId:C,txHash:"",status:-1,firstAddress:D,index:V,lastAddress:w,addressValues:R,count:R.length,estimateGas:j}),$+=j,V+=1,j=0,R=[],e.abrupt("continue",79);case 79:S++,e.next=62;break;case 82:G.holders=U,G.freshers=P,G.batches=A,G.totalGas=$+f*A.length,G.times=A.length,N=Date.parse(new Date),y=10*Math.random(),F="TASKID_"+N+"_"+y,G.taskID=F,c("SET_ADDRESS_INFO",G);case 92:case"end":return e.stop()}}),e)}))(),"t0",7);case 7:return e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e)}))),function(e){return W.apply(this,arguments)})),Object(pe.a)(n,"prepareTransactions",(K=Object(fe.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c,d,l,address,m,f,h,S,x,O,v,k,E,I;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.rootState,t.state,n=t.dispatch,o=t.commit,c=r.token,d=c.allowanceEnough,l=c.balanceEnough,address=c.address,e.next=4,n("checkTheLessBalance");case 4:if(m=e.sent,!(d&&l&&m)){e.next=27;break}f=address,h=r.common.addressInfo,S=r.bulksender.commonExtraGas,x=Object.assign({},h),O=x.batches,v=0,k=[],E=regeneratorRuntime.mark((function e(){var t,r,c,d,l,m,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o("SET_CONTRUCT_INDEX",I+1),t=O[I],r=Object.assign({},t),c=r.addressValues,d=[],l=[],m=[],c.forEach((function(e){d.push(e.address),l.push(e.amount),null!=e.tokenId&&m.push(e.tokenId)})),h=0,!d.length||!l.length){e.next=13;break}return e.next=12,n("bulksender/estimateGasForBatchTransfer",{tokenAddress:f,addresses:d,amounts:l,tokenIds:m},{root:!0});case 12:h=e.sent;case 13:if(-1!=h){e.next=15;break}throw Error("EstimateCostForTransferOfHolder error");case 15:r.estimateGas=h,v+=h,k.push(r);case 18:case"end":return e.stop()}}),e)})),I=0;case 15:if(!(I<O.length)){e.next=20;break}return e.delegateYield(E(),"t0",17);case 17:I++,e.next=15;break;case 20:return x.batches=k,x.totalGas=v+S*O.length,o("SET_ADDRESS_INFO",x),e.next=25,n("estimateExtraFee");case 25:return e.next=27,n("estimateTotalEtherCost");case 27:return e.abrupt("return",!0);case 28:case"end":return e.stop()}}),e)}))),function(e){return K.apply(this,arguments)})),Object(pe.a)(n,"saveTxsToLocal",(M=Object(fe.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.dispatch,t.rootState,t.state,t.commit,o=r.status,c=r.txHash,e.prev=2,!(66==c.length&&c.indexOf("0x")>-1)){e.next=13;break}return e.next=6,n("getNetIdStorage",{});case 6:return d=e.sent,null!=(l=d.txs)&&null!=l||(l={}),l[c]=o,d.txs=l,e.next=13,n("updateNetIdStorage",{netStorage:d});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),console.info(e.t0);case 18:case"end":return e.stop()}}),e,null,[[2,15]])}))),function(e,t){return M.apply(this,arguments)})),Object(pe.a)(n,"updateTxStatusToLocal",(B=Object(fe.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.dispatch,t.rootState,t.state,t.commit,o=r.status,c=r.txHash,e.prev=2,!(66==c.length&&c.indexOf("0x")>-1)){e.next=13;break}return e.next=6,n("getNetIdStorage",{});case 6:if(d=e.sent,null==(l=d.txs)||null==l||!l.hasOwnProperty(c)){e.next=13;break}return l[c]=o,d.txs=l,e.next=13,n("updateNetIdStorage",{netStorage:d});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),console.info(e.t0);case 18:case"end":return e.stop()}}),e,null,[[2,15]])}))),function(e,t){return B.apply(this,arguments)})),Object(pe.a)(n,"getLastTxs",(P=Object(fe.a)(regeneratorRuntime.mark((function e(t){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,t.rootState,t.state,t.commit,n={},e.prev=2,e.next=5,r("getNetIdStorage",{});case 5:return o=e.sent,e.abrupt("return",o.txs);case 9:e.prev=9,e.t0=e.catch(2);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,null,[[2,9]])}))),function(e){return P.apply(this,arguments)})),Object(pe.a)(n,"getDelegater",(U=Object(fe.a)(regeneratorRuntime.mark((function e(t){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,t.rootState,t.state,t.commit,n={},e.prev=2,e.next=5,r("getNetIdStorage",{});case 5:o=e.sent,null!=(n=o.delegater)&&null!=n||(n={}),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,null,[[2,10]])}))),function(e){return U.apply(this,arguments)})),Object(pe.a)(n,"getTrashDelegater",(H=Object(fe.a)(regeneratorRuntime.mark((function e(t){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,t.rootState,t.state,t.commit,n=[],e.prev=2,e.next=5,r("getNetIdStorage",{});case 5:o=e.sent,n=o.trashDelegaters,null!=trashDelegaters&&null!=trashDelegaters||(n=[]),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,null,[[2,10]])}))),function(e){return H.apply(this,arguments)})),Object(pe.a)(n,"checkDelegater",(L=Object(fe.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,t.rootState,t.state,t.commit,e.prev=1,e.next=4,r("getDelegater");case 4:if(n=e.sent,0!=Object.keys(n)){e.next=15;break}return e.next=8,r("bulksender/createBurnKey",{},{root:!0});case 8:return n=e.sent,e.next=11,r("getNetIdStorage",{});case 11:return(o=e.sent).delegater=n,e.next=15,r("updateNetIdStorage",{netStorage:o});case 15:return c=n,e.next=18,r("bulksender/saveBurnerKey",{burnerKey:c},{root:!0});case 18:e.next=22;break;case 20:e.prev=20,e.t0=e.catch(1);case 22:case"end":return e.stop()}}),e,null,[[1,20]])}))),function(e){return L.apply(this,arguments)})),Object(pe.a)(n,"clearLocalTxs",(G=Object(fe.a)(regeneratorRuntime.mark((function e(t){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,t.rootState,t.state,t.commit,e.prev=1,e.next=4,r("getNetIdStorage",{});case 4:return(n=e.sent).txs={},null!=n.delegater&&null!=n.usedDelegater&&1==n.usedDelegater&&(null==(o=n.trashDelegaters)&&(o=[]),o.push(n.delegater),n.trashDelegaters=o,n.delegater={},n.usedDelegater=!1),e.next=9,r("updateNetIdStorage",{netStorage:n});case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(1);case 13:case"end":return e.stop()}}),e,null,[[1,11]])}))),function(e){return G.apply(this,arguments)})),Object(pe.a)(n,"saveUsedDelegater",(F=Object(fe.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,t.rootState,t.state,t.commit,o=r.usedDelegater,e.prev=2,e.next=5,n("getNetIdStorage",{});case 5:return(c=e.sent).usedDelegater=o,e.next=9,n("updateNetIdStorage",{netStorage:c});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.info(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])}))),function(e,t){return F.apply(this,arguments)})),Object(pe.a)(n,"saveLastUsedWalletName",(C=Object(fe.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,t.rootState,t.state,t.commit,o=r.walletName,e.prev=2,e.next=5,n("getNetIdStorage",{});case 5:return(c=e.sent).walletName=o,e.next=9,n("updateNetIdStorage",{netStorage:c});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.info(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])}))),function(e,t){return C.apply(this,arguments)})),Object(pe.a)(n,"saveLastUsedProviderName",(y=Object(fe.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,t.rootState,t.state,t.commit,o=r.providerName,e.prev=2,e.next=5,n("getNetIdStorage",{});case 5:return(c=e.sent).providerName=o,e.next=9,n("updateNetIdStorage",{netStorage:c});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.info(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])}))),function(e,t){return y.apply(this,arguments)})),Object(pe.a)(n,"resetLastUsedProviderName",(N=Object(fe.a)(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.dispatch,t.rootState,t.state,t.commit,Object(me.a)(r),n("saveLastUsedProviderName",{providerName:""}),n("saveLastUsedWalletName",{walletName:""});case 6:case"end":return e.stop()}}),e)}))),function(e,t){return N.apply(this,arguments)})),Object(pe.a)(n,"getLastUsedProvider",(w=Object(fe.a)(regeneratorRuntime.mark((function e(t){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,t.rootState,t.state,t.commit,n="",e.prev=2,e.next=5,r("getNetIdStorage",{});case 5:return o=e.sent,e.abrupt("return",o.providerName);case 9:e.prev=9,e.t0=e.catch(2);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,null,[[2,9]])}))),function(e){return w.apply(this,arguments)})),Object(pe.a)(n,"getLastUsedWalletName",(D=Object(fe.a)(regeneratorRuntime.mark((function e(t){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,t.rootState,t.state,t.commit,n="",e.prev=2,e.next=5,r("getNetIdStorage",{});case 5:return o=e.sent,e.abrupt("return",o.walletName);case 9:e.prev=9,e.t0=e.catch(2);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,null,[[2,9]])}))),function(e){return D.apply(this,arguments)})),Object(pe.a)(n,"checkLastTxs",(_=Object(fe.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.rootState,t.state,r=t.dispatch,n=t.commit,e.next=3,r("getLastTxs");case 3:if(null==(o=e.sent)||null==o){e.next=23;break}c=!1,e.t0=regeneratorRuntime.keys(o);case 7:if((e.t1=e.t0()).done){e.next=14;break}if(!((d=e.t1.value).indexOf("0x")>-1&&66==d.length&&0==o[d])){e.next=12;break}return c=!0,e.abrupt("break",14);case 12:e.next=7;break;case 14:if(!c){e.next=19;break}return n("SET_UNFINISHED_TXS",o),e.abrupt("return",o);case 19:return e.next=21,r("clearLocalTxs");case 21:return n("SET_UNFINISHED_TXS",{}),e.abrupt("return",{});case 23:return e.abrupt("return",{});case 24:case"end":return e.stop()}}),e)}))),function(e){return _.apply(this,arguments)})),Object(pe.a)(n,"checkContractsError",(j=Object(fe.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c,d,l,m,f,h,S,x,O,v,k,E,I,T,R;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.state,n=t.rootState,o=t.commit,t.rootGetters,c=t.dispatch,d=n.common.addressInfo,l=Object.assign({},d),m=l.validData,f=r.queryLimit,h=parseInt(Math.ceil(m.length/parseFloat(f))),S=[],x=[],O=Object(xe.a)(d.validAmount),v=[],k=0;case 11:if(!(k<h)){e.next=24;break}return E=k*f,I=f*(k+1),T=m.slice(E,I),R=[],T.forEach((function(e,t){R.push(e.address)})),e.next=19,c("token/checkAddressIsContract",{addresses:R},{root:!0});case 19:e.sent.forEach((function(address,e){var t=T[e];if("0x0000000000000000000000000000000000000000"!=address){S.push({index:e,address:t.address,errorType:3}),x.push(e);var r=Object(xe.a)(t.amount);O=O.minus(r)}else v.push(t)}));case 21:k++,e.next=11;break;case 24:if(!(x.length>0)){e.next=31;break}return l.validData=v,l.validAmount=O.toString(10),l.invalidAddressesIndexes=x,l.invalidAddresses=S,o("SET_ADDRESS_INFO",l),e.abrupt("return",!0);case 31:return e.abrupt("return",!1);case 32:case"end":return e.stop()}}),e)}))),function(e){return j.apply(this,arguments)})),Object(pe.a)(n,"checkTokenOwnersError",(A=Object(fe.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c,d,l,m,f,h,S,x,O,v,k,E,I,T,R,A;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.state,n=t.rootState,o=t.commit,t.rootGetters,c=t.dispatch,d=n.common.addressInfo,l=n.metamask.ethAccount,m=Object.assign({},d),f=m.validData,h=r.queryLimit,S=parseInt(Math.ceil(f.length/parseFloat(h))),x=[],O=[],v=Object(xe.a)(d.validAmount),k=[],E=0;case 12:if(!(E<S)){e.next=25;break}return I=E*h,T=h*(E+1),R=f.slice(I,T),A=[],R.forEach((function(e,t){A.push(e.tokenId)})),e.next=20,c("token/checkTokenOwners",{tokenIds:A},{root:!0});case 20:e.sent.forEach((function(address,e){var t=R[e];if(address.toLowerCase()!=l.toLowerCase()){x.push({index:e,address:t.address,amount:t.amount,tokenId:t.tokenId,errorType:5}),O.push(e);var r=Object(xe.a)(t.amount);v=v.minus(r)}else k.push(t)}));case 22:E++,e.next=12;break;case 25:if(!(O.length>0)){e.next=32;break}return m.validData=k,m.validAmount=v.toString(10),m.invalidAddressesIndexes=O,m.invalidAddresses=x,o("SET_ADDRESS_INFO",m),e.abrupt("return",!0);case 32:return e.abrupt("return",!1);case 33:case"end":return e.stop()}}),e)}))),function(e){return A.apply(this,arguments)})),Object(pe.a)(n,"checkSelfTokenBalancesError",(R=Object(fe.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c,d,l,address,m,f,h,S,x,O,v,k,E,I,T,R,A,j,_,D,w,N;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.state,n=t.rootState,o=t.commit,t.rootGetters,c=t.dispatch,d=n.common.addressInfo,l=n.metamask.ethAccount,address=n.token.address,m=address,f=Object.assign({},d),h=f.validData,S=r.queryLimit,x=parseInt(Math.ceil(h.length/parseFloat(S))),O=[],v=[],k=Object(xe.a)(d.validAmount),E=[],I=Object(xe.a)(0),T=[],R=0;case 16:if(!(R<x)){e.next=30;break}return A=R*S,j=S*(R+1),_=h.slice(A,j),D=[],w=[],_.forEach((function(e,t){D.push(e.tokenId),w.push(l)})),e.next=25,c("token/bulkQueryBalances",{tokenAddress:m,addresses:w,tokenIds:D},{root:!0});case 25:e.sent.forEach((function(e,t){var r=_[t];if(-1==T.indexOf(r.tokenId)&&(T.push(r.tokenId),I=I.plus(Object(xe.a)(e))),Object(xe.a)(e).lt(Object(xe.a)(r.amount))){O.push({index:t,address:r.address,amount:r.amount,tokenId:r.tokenId,errorType:12}),v.push(t);var n=Object(xe.a)(r.amount);k=k.minus(n)}else E.push(r)}));case 27:R++,e.next=16;break;case 30:if(N=I.toString(10),c("token/setTokenBalance",{balance:N},{root:!0}),!(v.length>0)){e.next=39;break}return f.validData=E,f.validAmount=k.toString(10),f.invalidAddressesIndexes=v,f.invalidAddresses=O,o("SET_ADDRESS_INFO",f),e.abrupt("return",!0);case 39:return e.abrupt("return",!1);case 40:case"end":return e.stop()}}),e)}))),function(e){return R.apply(this,arguments)})),Object(pe.a)(n,"_checkBadAddresses",(T=Object(fe.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c,d,l,m,address,f,h,S,x,O,v,k,E,I,T,R,A;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.state,n=t.rootState,o=t.commit,t.rootGetters,c=t.dispatch,d=n.token,l=d.allowanceEnough,m=d.balanceEnough,address=d.address,d.tokenSelected,!l||!m){e.next=7;break}return e.delegateYield(regeneratorRuntime.mark((function e(){var t,d,l,m,A,j,_,D,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,c("bulksender/setUsedSimple",{simple:!1},{root:!0});case 3:t=n.common.addressInfo,n.metamask.ethAccount,d=address,l=Object.assign({},t),f=l.validData,m=r.queryLimitForBadAddress,h=parseInt(Math.ceil(f.length/parseFloat(m))),A=[],j=[],S=Object(xe.a)(t.validAmount),x=[],O=0;case 15:if(!(O<h)){e.next=35;break}return v=O*m,k=m*(O+1),E=f.slice(v,k),I=[],T=[],R=[],E.forEach((function(e,t){null!=e.tokenId&&I.push(e.tokenId),R.push(e.amount),T.push(e.address)})),o("SET_CHECKING_ADDRESS_FROM",v),k>f.length?(_=f.length,o("SET_CHECKING_ADDRESS_TO",_)):o("SET_CHECKING_ADDRESS_TO",k),e.next=27,c("bulksender/bulkFindBadAddress",{tokenAddress:d,addresses:T,amounts:R,tokenIds:I},{root:!0});case 27:D=e.sent,w=D.badAddresses,D.badBalances,D.badTokenIds,w.forEach((function(address,e){var t=E[e];if(address.toLowerCase()==t.address.toLowerCase()){A.push({index:e,address:t.address,amount:t.amount,tokenId:t.tokenId,errorType:13}),j.push(e);var r=Object(xe.a)(t.amount);S=S.minus(r)}else x.push(t)}));case 32:O++,e.next=15;break;case 35:if(!(j.length>0)){e.next=42;break}return l.validData=x,l.validAmount=S.toString(10),l.invalidAddressesIndexes=j,l.invalidAddresses=A,o("SET_ADDRESS_INFO",l),e.abrupt("return",{v:!0});case 42:case"end":return e.stop()}}),e)}))(),"t0",4);case 4:if(A=e.t0,"object"!==Object(le.a)(A)){e.next=7;break}return e.abrupt("return",A.v);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)}))),function(e){return T.apply(this,arguments)})),Object(pe.a)(n,"checkingBadAddressOfFirstBatch",(I=Object(fe.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d,l,m,f,address,h,S,x,O,v,k,E,I,T,R,A,j;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.state,n=t.rootState,o=t.commit,t.rootGetters,c=t.dispatch,d=r.queryLimit,l=n.token,m=l.allowanceEnough,f=l.balanceEnough,address=l.address,l.tokenSelected,!m||!f){e.next=27;break}return e.next=7,c("bulksender/setUsedSimple",{simple:!1},{root:!0});case 7:h=n.common.addressInfo,S=address,x=Object.assign({},h),O=x.validData,v=0;case 12:if(!(v<1)){e.next=27;break}return k=v*d,E=d*(v+1),I=O.slice(k,E),T=[],R=[],A=[],o("SET_CHECKING_ADDRESS_FROM",k),E>O.length?(j=O.length,o("SET_CHECKING_ADDRESS_TO",j)):o("SET_CHECKING_ADDRESS_TO",E),I.forEach((function(e,t){null!=e.tokenId&&T.push(e.tokenId),A.push(e.amount),R.push(e.address)})),e.next=24,c("bulksender/bulkFindBadAddress",{tokenAddress:S,addresses:R,amounts:A,tokenIds:T},{root:!0});case 24:v++,e.next=12;break;case 27:case"end":return e.stop()}}),e)}))),function(e,t){return I.apply(this,arguments)})),Object(pe.a)(n,"testBadAddressesCheckingLimit",(E=Object(fe.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.state,t.rootState,n=t.commit,t.rootGetters,o=t.dispatch,c=r.queryLimitForBadAddress,e.abrupt("return",new Promise((function(e,t){var r=function(){var c=Object(fe.a)(regeneratorRuntime.mark((function c(d){var l,m;return regeneratorRuntime.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return l=d.queryLimit,c.prev=1,console.info("Checking badAddresses size",l),c.next=5,o("checkingBadAddressOfFirstBatch",{queryLimit:l});case 5:m=c.sent,n("SET_QUERY_LIMIT_FOR_BAD_ADDRESS",l),e(m),c.next=14;break;case 10:c.prev=10,c.t0=c.catch(1),(l-=10)<=0?t(c.t0):r({queryLimit:l});case 14:case"end":return c.stop()}}),c,null,[[1,10]])})));return function(e){return c.apply(this,arguments)}}();r({queryLimit:c})})));case 3:case"end":return e.stop()}}),e)}))),function(e){return E.apply(this,arguments)})),Object(pe.a)(n,"checkBadAddresses",(k=Object(fe.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.rootState,t.commit,t.rootGetters,r=t.dispatch,e.next=3,r("testBadAddressesCheckingLimit");case 3:return e.next=5,r("_checkBadAddresses");case 5:case"end":return e.stop()}}),e)}))),function(e){return k.apply(this,arguments)})),Object(pe.a)(n,"checkDuplicatedTokenIds",(v=Object(fe.a)(regeneratorRuntime.mark((function e(t){var r,n,o,c,d,l,m,f,h,S,x,O,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t.state,r=t.rootState,n=t.commit,t.rootGetters,t.dispatch,o=r.common.addressInfo,r.metamask.ethAccount,c=Object.assign({},o),d=c.validData,l=[],m=[],f=Object(xe.a)(o.validAmount),h=[],S=[],x=0;x<d.length;x++)O=d[x],-1==S.indexOf(O.tokenId)?(S.push(O.tokenId),h.push(O)):(l.push({index:x,address:O.address,amount:O.amount,tokenId:O.tokenId,errorType:6}),m.push(x),v=Object(xe.a)(O.amount),f=f.minus(v));if(!(m.length>0)){e.next=18;break}return c.validData=h,c.validAmount=f.toString(10),c.invalidAddressesIndexes=m,c.invalidAddresses=l,n("SET_ADDRESS_INFO",c),e.abrupt("return",!0);case 18:return e.abrupt("return",!1);case 19:case"end":return e.stop()}}),e)}))),function(e){return v.apply(this,arguments)})),Object(pe.a)(n,"checkInsertAddresses",(O=Object(fe.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d,l,m,f,h,S,x,O,v,k,E,I,T,R;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.rootState,o=t.rootGetters,c=t.dispatch,d=t.commit,l=r.addresses,!o["token/isNFTToken"]){e.next=7;break}return e.next=6,c("checkInsertAddressesForNFT",{addresses:l});case 6:return e.abrupt("return");case 7:m=n.token.tokenSelected,f=18,null!=m&&(f=m.decimals),h=new Set,S=[],x=new Set,O=[],v=Object(xe.a)(0),k=Object(xe.a)(0),E=[],I=[],T=[],R=[],l.forEach((function(e,t){var r=e.split(",");r.length<2&&(r=e.split("，"));var address=r[0].replace(/(\n[\s|\t]*\r*\n)/g,"\n").replace(/^\s+|\s+$/gm,""),n=r[1],o=!0,c=!1;if(!Object(ge.isAddress)(address)||"0x0000000000000000000000000000000000000000"==address.toLowerCase()||isNaN(n)||!isNaN(n)&&Number(n)<=0){var d=0;(isNaN(n)||Number(n)<=0)&&(d=1,Object(ge.isAddress)(address)||(d=2)),x.add({index:t,address:address,amount:n,errorType:d}),O.push(t),o=!1}else{var l=!1,m=n.toString().split(".");if(m.length>1&&m[1].length>f&&(l=!0),l)d=4,x.add({index:t,address:address,amount:n,errorType:d}),O.push(t),o=!1;else{address=Object(ge.toChecksumAddress)(address);var A=Object(xe.a)(n);n=A.toString(10),k=k.plus(A),E.push({address:address,amount:n,amountStr:A.toString(10)}),-1==R.indexOf(address)?(R.push(address),I.push({address:address,amount:n,amountStr:A.toString(10)}),v=v.plus(A)):(c=!0,h.add(address),S.push(t))}}var j=n;try{j=Object(xe.a)(n).toString(10)}catch(e){}T.push({address:address,amount:n,amountStr:j,valid:o,duplicated:c})})),v=v.toString(10),k=k.toString(10),h=Array.from(h),x=Array.from(x),d("SET_ADDRESS_INFO",{validAmount:k,nonDuplicatedAmount:v,originalData:T,originalAddressStr:l,duplicatedAddresses:h,duplicatedAddressesIndexes:S,invalidAddresses:x,invalidAddressesIndexes:O,validData:E,nonDuplicatedData:I,finalData:T,finalAmount:v});case 27:case"end":return e.stop()}}),e)}))),function(e,t){return O.apply(this,arguments)})),Object(pe.a)(n,"checkInsertAddressesForNFT",(x=Object(fe.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d,l,m,f,h,S,x,O,v,k,E,I,T;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.rootState,o=t.rootGetters,c=t.commit,d=r.addresses,null!=(l=n.token.tokenSelected)&&l.decimals,m=o["token/isERC1155"],f=new Set,h=[],S=new Set,x=[],O=Object(xe.a)(0),v=Object(xe.a)(0),k=[],E=[],I=[],T=[],d.forEach((function(e,t){var r=(e=e.replace("，",",")).split(","),address=r[0].replace(/(\n[\s|\t]*\r*\n)/g,"\n").replace(/^\s+|\s+$/gm,""),n=r[1],o="0";r.length>2&&(o=r[2]);var c=!0,d=!1;if(!Object(ge.isAddress)(address)||"0x0000000000000000000000000000000000000000"==address.toLowerCase()||isNaN(n)||isNaN(o)){var l=0;isNaN(o)&&(l=7,Object(ge.isAddress)(address)||(l=10,isNaN(n)||(l=100)),isNaN(n)||(l=9)),isNaN(n)&&(l=8,Object(ge.isAddress)(address)||(l=11)),S.add({index:t,address:address,amount:o,tokenId:n,errorType:l}),x.push(t),c=!1}else{var R=!1,A=(l=0,parseInt(o)<=0&&m);if(o%1!=0||A?(R=!0,l=7,A&&(l=101),n%1!=0&&(l=9)):n%1!=0&&(R=!0,l=8),R)S.add({index:t,address:address,amount:o,tokenId:n,errorType:l}),x.push(t),c=!1;else{address=Object(ge.toChecksumAddress)(address);var j=Object(xe.a)(o);o=j.toString(10),v=v.plus(j),k.push({address:address,amount:o,tokenId:n,amountStr:j.toString(10)}),-1==T.indexOf(address)?(T.push(address),E.push({address:address,amount:o,tokenId:n,amountStr:j.toString(10)}),O=O.plus(j)):(d=!0,f.add(address),h.push(t))}}var _=o;try{_=Object(xe.a)(o).toString(10)}catch(e){}I.push({address:address,amount:o,tokenId:n,amountStr:_,valid:c,duplicated:d})})),O=O.toString(10),v=v.toString(10),f=Array.from(f),S=Array.from(S),c("SET_ADDRESS_INFO",{validAmount:v,nonDuplicatedAmount:O,originalData:I,originalAddressStr:d,duplicatedAddresses:f,duplicatedAddressesIndexes:h,invalidAddresses:S,invalidAddressesIndexes:x,validData:k,nonDuplicatedData:E,finalData:I,finalAmount:O});case 23:case"end":return e.stop()}}),e)}))),function(e,t){return x.apply(this,arguments)})),Object(pe.a)(n,"combineBalances",(S=Object(fe.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rootState,o=t.commit,t.dispatch,t.state,Object(me.a)(r),c=[],d=n.common.addressInfo,(l=Object.assign({},d)).validData.forEach((function(e){this[e.address]||(this[e.address]={address:e.address,amount:Object(xe.a)(0)},c.push(this[e.address]));var t=Object(xe.a)(e.amount),r=Object(xe.a)(this[e.address].amount);this[e.address].amount=r.plus(t).toString(10),this[e.address].amountStr=r.plus(t).toString(10)}),Object.create(null)),l.combinedData=c,l.finalData=c,l.finalAmount=d.validAmount,l.invalidAddressesIndexes=[],l.invalidAddresses=[],l.duplicatedAddressesIndexes=[],l.duplicatedAddresses=[],o("SET_ADDRESS_INFO",l),e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e)}))),function(e,t){return S.apply(this,arguments)})),Object(pe.a)(n,"keepFirstOne",(h=Object(fe.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rootState,o=t.commit,t.dispatch,t.state,Object(me.a)(r),c=n.common.addressInfo,(d=Object.assign({},c)).finalData=c.nonDuplicatedData,d.finalAmount=c.nonDuplicatedAmount,d.invalidAddressesIndexes=[],d.invalidAddresses=[],d.duplicatedAddressesIndexes=[],d.duplicatedAddresses=[],o("SET_ADDRESS_INFO",d),e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e)}))),function(e,t){return h.apply(this,arguments)})),Object(pe.a)(n,"keepDuplicated",(f=Object(fe.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rootState,o=t.commit,t.dispatch,t.state,Object(me.a)(r),c=n.common.addressInfo,(d=Object.assign({},c)).finalData=d.validData,d.finalAmount=c.validAmount,d.invalidAddressesIndexes=[],d.invalidAddresses=[],d.duplicatedAddressesIndexes=[],d.duplicatedAddresses=[],o("SET_ADDRESS_INFO",d),e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e)}))),function(e,t){return f.apply(this,arguments)})),Object(pe.a)(n,"deleteInvalidAddresses",(m=Object(fe.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d,l,m,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rootState,o=t.commit,t.dispatch,t.state,Object(me.a)(r),c=n.common.addressInfo,d=Object.assign({},c),l=d.validData,d.duplicatedAddressesIndexes.length>0&&(m=[],f=[],l.forEach((function(e,t){-1!=m.indexOf(e.address)?f.push(t):m.push(e.address)})),d.duplicatedAddressesIndexes=f),d.finalData=l,d.finalAmount=c.validAmount,d.invalidAddressesIndexes=[],d.invalidAddresses=[],o("SET_ADDRESS_INFO",d),e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e)}))),function(e,t){return m.apply(this,arguments)})),Object(pe.a)(n,"readFileAsync",(l=Object(fe.a)(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.rootState,t.commit,t.dispatch,t.state,n=r.fileData,o=n,e.abrupt("return",new Promise((function(e,t){var r=new FileReader;r.onload=function(){for(var t="",n=new Uint8Array(r.result),o=n.byteLength,i=0;i<o;i++)t+=String.fromCharCode(n[i]);var c=Se.a.read(t,{type:"binary"}),d=c.SheetNames[0],l=c.Sheets[d],data=Se.a.utils.sheet_to_csv(l);e(data)},r.onerror=t,r.readAsArrayBuffer(o)})));case 4:case"end":return e.stop()}}),e)}))),function(e,t){return l.apply(this,arguments)})),Object(pe.a)(n,"parseFile",(d=Object(fe.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.rootState,t.commit,n=t.dispatch,t.rootGetters,t.state,o=r.fileData,e.prev=2,e.next=5,n("readFileAsync",{fileData:o});case 5:return c=e.sent,e.next=8,n("parseInsertAddresses",{insertedAddress:c});case 8:return e.abrupt("return",!0);case 11:return e.prev=11,e.t0=e.catch(2),console.info(e.t0),e.next=16,n("uploadFile",{fileData:o});case 16:return d=e.sent,e.abrupt("return",d);case 18:case"end":return e.stop()}}),e,null,[[2,11]])}))),function(e,t){return d.apply(this,arguments)})),Object(pe.a)(n,"uploadFile",(c=Object(fe.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,data,d,l,m,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rootState,t.commit,o=t.dispatch,t.rootGetters,t.state,c=r.fileData,n.metamask.netId,e.prev=3,(data=new FormData).append("file",c),d=new Request("http://127.0.0.1:5000/upload",{method:"POST",body:data}),e.next=10,fetch(d);case 10:if(200!==(l=e.sent).status){e.next=26;break}return e.next=14,l.json();case 14:if(0!=(m=e.sent).code&&!m.success){e.next=22;break}return f=m.data,e.next=19,o("checkInsertAddresses",{addresses:f});case 19:return e.abrupt("return",!0);case 22:throw Error("Upload file failed");case 24:e.next=28;break;case 26:throw Error("Upload file failed");case 28:e.next=34;break;case 30:return e.prev=30,e.t0=e.catch(3),console.error(e.t0),e.abrupt("return",!1);case 34:case"end":return e.stop()}}),e,null,[[3,30]])}))),function(e,t){return c.apply(this,arguments)})),Object(pe.a)(n,"checkUnfinishedTransactionStatus",(o=Object(fe.a)(regeneratorRuntime.mark((function e(t,r){var n,o,c,d,l,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,n=t.rootGetters,t.rootState,o=t.dispatch,t.commit,c=r.txHash,d=n["metamask/networkConfig"].smartContractShortPollTime,e.prev=3,console.info(c),e.next=7,o("metamask/getTransactionReceipt",{txHash:c},{root:!0});case 7:if(null==(l=e.sent)){e.next=17;break}return m="0x1"==(m=l.status)||1==m?1:-2,e.next=13,o("updateTxStatusToLocal",{status:m,txHash:c});case 13:return e.next=15,o("checkLastTxs",{});case 15:e.next=18;break;case 17:setTimeout((function(){o("checkUnfinishedTransactionStatus",{txHash:c})}),1e3*d);case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(3),console.info("checking error",e.t0),setTimeout((function(){o("checkUnfinishedTransactionStatus")}),1e3*d);case 24:case"end":return e.stop()}}),e,null,[[3,20]])}))),function(e,t){return o.apply(this,arguments)})),n);t.default={namespaced:!0,state:function(){return{step:1,language:"EN",headerClosed:!1,translationWord:{},inputType:0,addressesInsertWay:0,code:"",estimateETHCost:0,etherEnough:!0,queryLimit:1e3,queryLimitForBadAddress:210,maxTestingCount:10,estimateCostPerTransferOfFresher:4e4,estimateCostPerTransferOfHolder:25e3,sendLoading:!1,sendingIndex:0,unFinishedTxs:{},currentRouter:null,checkingAddressFrom:0,checkingAddressTo:1e3,contructTxIndex:0,isMobile:!1,addressInfo:{taskID:"",nonAmount:0,validAmount:0,nonDuplicatedAmount:0,originalData:[],originalAddressStr:[],duplicatedAddresses:[],duplicatedAddressesIndexes:[],invalidAddresses:[],invalidAddressesIndexes:[],validData:[],combinedData:[],nonDuplicatedData:[],finalData:[],finalAmount:0,batches:[],times:1,batchSize:100,holders:[],freshers:[],estimateGasUsed:0,baseFeeEnough:!0}}},getters:Oe,mutations:{SET_STEP:function(e,t){e.step=t},SET_INPUT_TYPE:function(e,t){e.inputType=t},SET_CODE:function(e,code){e.code=code},SET_HEADER_CLOSED:function(e,t){e.headerClosed=t},SET_LANGUAGE:function(e,t){e.language=t},SET_ORIGIN_INPUT_DATA:function(e,t){e.originInputData=t},SET_ADDRESS_INFO:function(e,t){e.addressInfo=t},SET_ESTIMATED_COST_PER_TRANSFER_OF_FRESHER:function(e,t){e.estimateCostPerTransferOfFresher=t},SET_ESTIMATED_COST_PER_TRANSFER_OF_HOLDER:function(e,t){e.estimateCostPerTransferOfHolder=t},SET_SEND_LOADING:function(e,t){e.sendLoading=t},SET_ESTIMATED_ETH_COST:function(e,t){e.estimateETHCost=t},SET_ETHER_ENOUGH:function(e,t){e.etherEnough=t},SET_BASE_FEE_ENOUGH:function(e,t){e.baseFeeEnough=t},SET_ADDRESSES_INSERT_WAY:function(e,t){e.addressesInsertWay=t},SET_SENDING_INDEX:function(e,t){e.sendingIndex=t},SET_UNFINISHED_TXS:function(e,t){e.unFinishedTxs=t},SET_CURRENT_ROUTER:function(e,t){e.currentRouter=t},SET_IS_MOBILE:function(e,t){e.isMobile=t},SET_CONTRUCT_INDEX:function(e,t){e.contructTxIndex=t},SET_CHECKING_ADDRESS_FROM:function(e,t){e.checkingAddressFrom=t},SET_CHECKING_ADDRESS_TO:function(e,t){e.checkingAddressTo=t},SET_QUERY_LIMIT_FOR_BAD_ADDRESS:function(e,t){e.queryLimitForBadAddress=t}},actions:ve}}}]);