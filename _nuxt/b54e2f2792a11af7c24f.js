(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{228:function(e,t,r){"use strict";(function(e){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(227)),l=r(328),h=/^[0-9]*$/,c=/^[a-f0-9]*$/;function d(e){return e.startsWith("0x")||e.startsWith("0X")}function f(e){return d(e)?e.slice(2):e}function m(e){return d(e)?"0x"+e.slice(2):"0x"+e}function _(e){if("string"!=typeof e)return!1;const s=f(e).toLowerCase();return c.test(s)}function y(e,t=!1){if("string"==typeof e){const s=f(e).toLowerCase();if(c.test(s))return l.HexString(t?"0x"+s:s)}throw new Error(`"${e}" is not a hexadecimal string`)}function w(e,t=!1){let r=y(e,!1);return r.length%2==1&&(r=l.HexString("0"+r)),t?l.HexString("0x"+r):r}function E(e){if("number"==typeof e&&Number.isInteger(e))return l.IntNumber(e);if("string"==typeof e){if(h.test(e))return l.IntNumber(Number(e));if(_(e))return l.IntNumber(new o.default(w(e,!1),16).toNumber())}throw new Error(`Not an integer: ${e}`)}function v(e){if(null==e||"function"!=typeof e.constructor)return!1;const{constructor:t}=e;return"function"==typeof t.config&&"number"==typeof t.EUCLID}t.hexStringFromBuffer=function(e,t=!1){const r=e.toString("hex");return l.HexString(t?"0x"+r:r)},t.bigIntStringFromBN=function(e){return l.BigIntString(e.toString(10))},t.intNumberFromHexString=function(e){return l.IntNumber(new o.default(w(e,!1),16).toNumber())},t.hexStringFromIntNumber=function(e){return l.HexString("0x"+new o.default(e).toString(16))},t.has0xPrefix=d,t.strip0x=f,t.prepend0x=m,t.isHexString=_,t.ensureHexString=y,t.ensureEvenLengthHexString=w,t.ensureAddressString=function(e){if("string"==typeof e){const s=f(e).toLowerCase();if(_(s)&&40===s.length)return l.AddressString(m(s))}throw new Error(`Invalid Ethereum address: ${e}`)},t.ensureBuffer=function(t){if(e.isBuffer(t))return t;if("string"==typeof t){if(_(t)){const s=w(t,!1);return e.from(s,"hex")}return e.from(t,"utf8")}throw new Error(`Not binary data: ${t}`)},t.ensureIntNumber=E,t.ensureRegExpString=function(e){if(e instanceof RegExp)return l.RegExpString(e.toString());throw new Error(`Not a RegExp: ${e}`)},t.ensureBN=function(e){if(null!=e&&(o.default.isBN(e)||v(e)))return new o.default(e.toString(10),10);if("number"==typeof e)return new o.default(E(e));if("string"==typeof e){if(h.test(e))return new o.default(e,10);if(_(e))return new o.default(w(e,!1),16)}throw new Error(`Not an integer: ${e}`)},t.isBigNumber=v,t.range=function(e,t){return Array.from({length:t-e},(t,i)=>e+i)},t.getFavicon=function(){const e=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:t,host:r}=document.location,n=e?e.getAttribute("href"):null;return!n||n.startsWith("javascript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?t+n:`${t}//${r}${n}`}}).call(this,r(11).Buffer)},275:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(327),o=r(458);var l=r(327);t.WalletLinkProvider=l.WalletLinkProvider;var h=r(458);t.WalletLink=h.WalletLink,t.default=o.WalletLink,"undefined"!=typeof window&&(window.WalletLink=o.WalletLink,window.WalletLinkProvider=n.WalletLinkProvider)},327:function(e,t,r){"use strict";(function(e){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(227)),l=r(228),h=n(r(940)),c=r(948),d=r(949),f=r(950);t.WalletLinkProvider=class{constructor(e){if(this._filterPolyfill=new c.FilterPolyfill(this),this._addresses=[],this._send=this.send,this._sendAsync=this.sendAsync,!e.relay)throw new Error("realy must be provided");if(!e.jsonRpcUrl)throw new Error("jsonRpcUrl must be provided");this._relay=e.relay,this._chainId=l.ensureIntNumber(e.chainId||1),this._jsonRpcUrl=e.jsonRpcUrl;const t=this._relay.getStorageItem("Addresses");if(t){const e=t.split(" ");""!==e[0]&&(this._addresses=e)}}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this._chainId.toString(10)}get isWalletLink(){return!0}get host(){return this._jsonRpcUrl}get connected(){return!0}isConnected(){return!0}async enable(){return this._addresses.length>0?this._addresses:await this._send(d.JSONRPCMethod.eth_requestAccounts)}close(){this._relay.resetAndReload()}send(e,t){if("string"==typeof e){const r={jsonrpc:"2.0",id:0,method:e,params:Array.isArray(t)?t:void 0!==t?[t]:[]};return this._sendRequestAsync(r).then(e=>e.result)}if("function"==typeof t){const r=e,n=t;return this._sendAsync(r,n)}if(Array.isArray(e)){return e.map(e=>this._sendRequest(e))}const r=e;return this._sendRequest(r)}sendAsync(e,t){if("function"!=typeof t)throw new Error("callback is required");if(Array.isArray(e)){const r=t;return void this._sendMultipleRequestsAsync(e).then(e=>r(null,e)).catch(e=>r(e,null))}const r=t;this._sendRequestAsync(e).then(e=>r(null,e)).catch(e=>r(e,null))}async scanQRCode(e){const t=await this._relay.scanQRCode(l.ensureRegExpString(e));if("string"!=typeof t.result)throw new Error("result was not a string");return t.result}async arbitraryRequest(data){const e=await this._relay.arbitraryRequest(data);if("string"!=typeof e.result)throw new Error("result was not a string");return e.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){const t={jsonrpc:"2.0",id:e.id},{method:r}=e;if(t.result=this._handleSynchronousMethods(e),void 0===t.result)throw new Error(`WalletLink does not support calling ${r} synchronously without `+`a callback. Please provide a callback parameter to call ${r} `+"asynchronously.");return t}_setAddresses(e){if(!Array.isArray(e))throw new Error("addresses is not an array");this._addresses=e.map(address=>l.ensureAddressString(address)),this._relay.setStorageItem("Addresses",e.join(" ")),window.dispatchEvent(new CustomEvent("walletlink:addresses",{detail:this._addresses}))}_sendRequestAsync(e){return new Promise((t,r)=>{try{const n=this._handleSynchronousMethods(e);if(void 0!==n)return t({jsonrpc:"2.0",id:e.id,result:n});const o=this._handleAsynchronousFilterMethods(e);if(void 0!==o)return void o.then(r=>t(Object.assign(Object.assign({},r),{id:e.id}))).catch(e=>r(e))}catch(e){return r(e)}this._handleAsynchronousMethods(e).then(r=>t(Object.assign(Object.assign({},r),{id:e.id}))).catch(e=>r(e))})}_sendMultipleRequestsAsync(e){return Promise.all(e.map(e=>this._sendRequestAsync(e)))}_handleSynchronousMethods(e){const{method:t}=e,r=e.params||[];switch(t){case d.JSONRPCMethod.eth_accounts:return this._eth_accounts();case d.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case d.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(r);case d.JSONRPCMethod.net_version:return this._net_version();default:return}}_handleAsynchronousMethods(e){const{method:t}=e,r=e.params||[];switch(t){case d.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case d.JSONRPCMethod.eth_sign:return this._eth_sign(r);case d.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(r);case d.JSONRPCMethod.personal_sign:return this._personal_sign(r);case d.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(r);case d.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(r);case d.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(r);case d.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(r);case d.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(r);case d.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case d.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(r);case d.JSONRPCMethod.eth_signTypedData_v4:case d.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(r);case d.JSONRPCMethod.walletlink_arbitrary:return this._walletlink_arbitrary(r)}return window.fetch(this._jsonRpcUrl,{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>{if(!e)throw new f.ProviderError("unexpected response");const t=e,{error:r}=t;if(r)throw new f.ProviderError(r.message||"RPC Error",r.code,r.data);return t})}_handleAsynchronousFilterMethods(e){const{method:t}=e,r=e.params||[];switch(t){case d.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(r);case d.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case d.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case d.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(r);case d.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(r)}}_isKnownAddress(e){try{const address=l.ensureAddressString(e);return this._addresses.includes(address)}catch(e){}return!1}_ensureKnownAddress(e){if(!this._isKnownAddress(e))throw new Error("Unknown Ethereum address")}_prepareTransactionParams(t){const r=t.from?l.ensureAddressString(t.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");return this._ensureKnownAddress(r),{fromAddress:r,toAddress:t.to?l.ensureAddressString(t.to):null,weiValue:null!=t.value?l.ensureBN(t.value):new o.default(0),data:t.data?l.ensureBuffer(t.data):e.alloc(0),nonce:null!=t.nonce?l.ensureIntNumber(t.nonce):null,gasPriceInWei:null!=t.gasPrice?l.ensureBN(t.gasPrice):null,gasLimit:null!=t.gas?l.ensureBN(t.gas):null,chainId:this._chainId}}_requireAuthorization(){if(0===this._addresses.length)throw new f.ProviderError("Unauthorized",f.ProviderErrorCode.UNAUTHORIZED)}_throwUnsupportedMethodError(){throw new f.ProviderError("Unsupported method",f.ProviderErrorCode.UNSUPPORTED_METHOD)}async _signEthereumMessage(e,address,t,r){this._ensureKnownAddress(address);try{return{jsonrpc:"2.0",id:0,result:(await this._relay.signEthereumMessage(e,address,t,r)).result}}catch(e){if("string"==typeof e.message&&e.message.match(/(denied|rejected)/i))throw new f.ProviderError("User denied message signature",f.ProviderErrorCode.USER_DENIED_REQUEST_SIGNATURE);throw e}}async _ethereumAddressFromSignedMessage(e,t,r){return{jsonrpc:"2.0",id:0,result:(await this._relay.ethereumAddressFromSignedMessage(e,t,r)).result}}_eth_accounts(){return this._addresses}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this._chainId.toString(10)}async _eth_requestAccounts(){if(this._addresses.length>0)return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let e;try{e=await this._relay.requestEthereumAccounts()}catch(e){if("string"==typeof e.message&&e.message.match(/(denied|rejected)/i))throw new f.ProviderError("User denied account authorization",f.ProviderErrorCode.USER_DENIED_REQUEST_ACCOUNTS);throw e}if(!e.result)throw new Error("accounts received is empty");return this._setAddresses(e.result),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const address=l.ensureAddressString(e[0]),t=l.ensureBuffer(e[1]);return this._signEthereumMessage(t,address,!1)}_eth_ecRecover(e){const t=l.ensureBuffer(e[0]),r=l.ensureBuffer(e[1]);return this._ethereumAddressFromSignedMessage(t,r,!1)}_personal_sign(e){this._requireAuthorization();const t=l.ensureBuffer(e[0]),address=l.ensureAddressString(e[1]);return this._signEthereumMessage(t,address,!0)}_personal_ecRecover(e){const t=l.ensureBuffer(e[0]),r=l.ensureBuffer(e[1]);return this._ethereumAddressFromSignedMessage(t,r,!0)}async _eth_signTransaction(e){this._requireAuthorization();const t=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await this._relay.signEthereumTransaction(t)).result}}catch(e){if("string"==typeof e.message&&e.message.match(/(denied|rejected)/i))throw new f.ProviderError("User denied transaction signature",f.ProviderErrorCode.USER_DENIED_REQUEST_SIGNATURE);throw e}}async _eth_sendRawTransaction(e){const t=l.ensureBuffer(e[0]);return{jsonrpc:"2.0",id:0,result:(await this._relay.submitEthereumTransaction(t,this._chainId)).result}}async _eth_sendTransaction(e){this._requireAuthorization();const t=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await this._relay.signAndSubmitEthereumTransaction(t)).result}}catch(e){if("string"==typeof e.message&&e.message.match(/(denied|rejected)/i))throw new f.ProviderError("User denied transaction signature",f.ProviderErrorCode.USER_DENIED_REQUEST_SIGNATURE);throw e}}async _eth_signTypedData_v1(e){this._requireAuthorization();const t=e[0],address=l.ensureAddressString(e[1]);this._ensureKnownAddress(address);const r=h.default.hashForSignTypedDataLegacy({data:t}),n=JSON.stringify(t,null,2);return this._signEthereumMessage(r,address,!1,n)}async _eth_signTypedData_v3(e){this._requireAuthorization();const address=l.ensureAddressString(e[0]),t=e[1];this._ensureKnownAddress(address);const r=h.default.hashForSignTypedData_v3({data:t}),n=JSON.stringify(t,null,2);return this._signEthereumMessage(r,address,!1,n)}async _eth_signTypedData_v4(e){this._requireAuthorization();const address=l.ensureAddressString(e[0]),t=e[1];this._ensureKnownAddress(address);const r=h.default.hashForSignTypedData_v4({data:t}),n=JSON.stringify(t,null,2);return this._signEthereumMessage(r,address,!1,n)}async _walletlink_arbitrary(e){const data=e[0];if("string"!=typeof data)throw new Error("parameter must be a string");return{jsonrpc:"2.0",id:0,result:await this.arbitraryRequest(data)}}_eth_uninstallFilter(e){const t=l.ensureHexString(e[0]);return this._filterPolyfill.uninstallFilter(t)}async _eth_newFilter(e){const param=e[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(param)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(e){const t=l.ensureHexString(e[0]);return this._filterPolyfill.getFilterChanges(t)}_eth_getFilterLogs(e){const t=l.ensureHexString(e[0]);return this._filterPolyfill.getFilterLogs(t)}}}).call(this,r(11).Buffer)},328:function(e,t,r){"use strict";function n(){return e=>e}Object.defineProperty(t,"__esModule",{value:!0}),t.OpaqueType=n,t.HexString=e=>e,t.AddressString=e=>e,t.BigIntString=e=>e,t.IntNumber=function(e){return Math.floor(e)},t.RegExpString=e=>e},331:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.SESSION_ID_REQUEST="SESSION_ID_REQUEST",e.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",e.LINKED="LINKED",e.UNLINKED="UNLINKED",e.WEB3_REQUEST="WEB3_REQUEST",e.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",e.WEB3_RESPONSE="WEB3_RESPONSE"}(t.RelayMessageType||(t.RelayMessageType={}))},457:function(e,t,r){(function(t){const n=r(941),o=r(227);function l(e){return t.allocUnsafe(e).fill(0)}function h(e,t,r){const n=l(t);return e=c(e),r?e.length<t?(e.copy(n),n):e.slice(0,t):e.length<t?(e.copy(n,t-e.length),n):e.slice(-t)}function c(e){if(!t.isBuffer(e))if(Array.isArray(e))e=t.from(e);else if("string"==typeof e)e=d(e)?t.from((r=f(e)).length%2?"0"+r:r,"hex"):t.from(e);else if("number"==typeof e)e=intToBuffer(e);else if(null==e)e=t.allocUnsafe(0);else if(o.isBN(e))e=e.toArrayLike(t);else{if(!e.toArray)throw new Error("invalid type");e=t.from(e.toArray())}var r;return e}function d(e){return"string"==typeof e&&e.match(/^0x[0-9A-Fa-f]*$/)}function f(e){return"string"==typeof e&&e.startsWith("0x")?e.slice(2):e}e.exports={zeros:l,setLength:h,setLengthRight:function(e,t){return h(e,t,!0)},isHexString:d,stripHexPrefix:f,toBuffer:c,bufferToHex:function(e){return"0x"+(e=c(e)).toString("hex")},keccak:function(a,e){return a=c(a),e||(e=256),n("keccak"+e).update(a).digest()}}}).call(this,r(11).Buffer)},555:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.requestEthereumAccounts="requestEthereumAccounts",e.signEthereumMessage="signEthereumMessage",e.signEthereumTransaction="signEthereumTransaction",e.submitEthereumTransaction="submitEthereumTransaction",e.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",e.scanQRCode="scanQRCode",e.arbitrary="arbitrary"}(t.Web3Method||(t.Web3Method={}))},940:function(e,t,r){(function(t){const n=r(457),o=r(947),l={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},h={encodeData(e,data,r,l=!0){const h=["bytes32"],c=[this.hashType(e,r)];if(l){const d=(e,h,c)=>{if(void 0!==r[h])return["bytes32",null==c?"0x0000000000000000000000000000000000000000000000000000000000000000":n.keccak(this.encodeData(h,c,r,l))];if(void 0===c)throw new Error(`missing value for field ${e} of type ${h}`);if("bytes"===h)return["bytes32",n.keccak(c)];if("string"===h)return"string"==typeof c&&(c=t.from(c,"utf8")),["bytes32",n.keccak(c)];if(h.lastIndexOf("]")===h.length-1){const t=h.slice(0,h.lastIndexOf("[")),r=c.map(r=>d(e,t,r));return["bytes32",n.keccak(o.rawEncode(r.map(([e])=>e),r.map(([,e])=>e)))]}return[h,c]};for(const t of r[e]){const[e,r]=d(t.name,t.type,data[t.name]);h.push(e),c.push(r)}}else for(const o of r[e]){let e=data[o.name];if(void 0!==e)if("bytes"===o.type)h.push("bytes32"),e=n.keccak(e),c.push(e);else if("string"===o.type)h.push("bytes32"),"string"==typeof e&&(e=t.from(e,"utf8")),e=n.keccak(e),c.push(e);else if(void 0!==r[o.type])h.push("bytes32"),e=n.keccak(this.encodeData(o.type,e,r,l)),c.push(e);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");h.push(o.type),c.push(e)}}return o.rawEncode(h,c)},encodeType(e,t){let r="",n=this.findTypeDependencies(e,t).filter(t=>t!==e);n=[e].concat(n.sort());for(const e of n){if(!t[e])throw new Error("No type definition specified: "+e);r+=e+"("+t[e].map(({name:e,type:t})=>t+" "+e).join(",")+")"}return r},findTypeDependencies(e,t,r=[]){if(e=e.match(/^\w*/)[0],r.includes(e)||void 0===t[e])return r;r.push(e);for(const n of t[e])for(const e of this.findTypeDependencies(n.type,t,r))!r.includes(e)&&r.push(e);return r},hashStruct(e,data,t,r=!0){return n.keccak(this.encodeData(e,data,t,r))},hashType(e,t){return n.keccak(this.encodeType(e,t))},sanitizeData(data){const e={};for(const t in l.properties)data[t]&&(e[t]=data[t]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(e,r=!0){const o=this.sanitizeData(e),l=[t.from("1901","hex")];return l.push(this.hashStruct("EIP712Domain",o.domain,o.types,r)),"EIP712Domain"!==o.primaryType&&l.push(this.hashStruct(o.primaryType,o.message,o.types,r)),n.keccak(t.concat(l))}};e.exports={TYPED_MESSAGE_SCHEMA:l,TypedDataUtils:h,hashForSignTypedDataLegacy:function(e){return function(e){const t=new Error("Expect argument to be non-empty array");if("object"!=typeof e||!e.length)throw t;const data=e.map((function(e){return"bytes"===e.type?n.toBuffer(e.value):e.value})),r=e.map((function(e){return e.type})),l=e.map((function(e){if(!e.name)throw t;return e.type+" "+e.name}));return o.soliditySHA3(["bytes32","bytes32"],[o.soliditySHA3(new Array(e.length).fill("string"),l),o.soliditySHA3(r,data)])}(e.data)},hashForSignTypedData_v3:function(e){return h.hash(e.data,!1)},hashForSignTypedData_v4:function(e){return h.hash(e.data)}}}).call(this,r(11).Buffer)},941:function(e,t,r){e.exports=r(942)(r(945))},942:function(e,t,r){const n=r(943),o=r(944);e.exports=function(e){const t=n(e),r=o(e);return function(e,n){switch("string"==typeof e?e.toLowerCase():e){case"keccak224":return new t(1152,448,null,224,n);case"keccak256":return new t(1088,512,null,256,n);case"keccak384":return new t(832,768,null,384,n);case"keccak512":return new t(576,1024,null,512,n);case"sha3-224":return new t(1152,448,6,224,n);case"sha3-256":return new t(1088,512,6,256,n);case"sha3-384":return new t(832,768,6,384,n);case"sha3-512":return new t(576,1024,6,512,n);case"shake128":return new r(1344,256,31,n);case"shake256":return new r(1088,512,31,n);default:throw new Error("Invald algorithm: "+e)}}}},943:function(e,t,r){(function(t){const{Transform:n}=r(97);e.exports=e=>class r extends n{constructor(t,r,n,o,l){super(l),this._rate=t,this._capacity=r,this._delimitedSuffix=n,this._hashBitLength=o,this._options=l,this._state=new e,this._state.initialize(t,r),this._finalized=!1}_transform(e,t,r){let n=null;try{this.update(e,t)}catch(e){n=e}r(n)}_flush(e){let t=null;try{this.push(this.digest())}catch(e){t=e}e(t)}update(data,e){if(!t.isBuffer(data)&&"string"!=typeof data)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return t.isBuffer(data)||(data=t.from(data,e)),this._state.absorb(data),this}digest(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let t=this._state.squeeze(this._hashBitLength/8);return void 0!==e&&(t=t.toString(e)),this._resetState(),t}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const e=new r(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(e._state),e._finalized=this._finalized,e}}}).call(this,r(11).Buffer)},944:function(e,t,r){(function(t){const{Transform:n}=r(97);e.exports=e=>class r extends n{constructor(t,r,n,o){super(o),this._rate=t,this._capacity=r,this._delimitedSuffix=n,this._options=o,this._state=new e,this._state.initialize(t,r),this._finalized=!1}_transform(e,t,r){let n=null;try{this.update(e,t)}catch(e){n=e}r(n)}_flush(){}_read(e){this.push(this.squeeze(e))}update(data,e){if(!t.isBuffer(data)&&"string"!=typeof data)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return t.isBuffer(data)||(data=t.from(data,e)),this._state.absorb(data),this}squeeze(e,t){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let data=this._state.squeeze(e);return void 0!==t&&(data=data.toString(t)),data}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const e=new r(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(e._state),e._finalized=this._finalized,e}}}).call(this,r(11).Buffer)},945:function(e,t,r){(function(t){const n=r(946);function o(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}o.prototype.initialize=function(e,t){for(let i=0;i<50;++i)this.state[i]=0;this.blockSize=e/8,this.count=0,this.squeezing=!1},o.prototype.absorb=function(data){for(let i=0;i<data.length;++i)this.state[~~(this.count/4)]^=data[i]<<this.count%4*8,this.count+=1,this.count===this.blockSize&&(n.p1600(this.state),this.count=0)},o.prototype.absorbLastFewBits=function(e){this.state[~~(this.count/4)]^=e<<this.count%4*8,0!=(128&e)&&this.count===this.blockSize-1&&n.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<(this.blockSize-1)%4*8,n.p1600(this.state),this.count=0,this.squeezing=!0},o.prototype.squeeze=function(e){this.squeezing||this.absorbLastFewBits(1);const output=t.alloc(e);for(let i=0;i<e;++i)output[i]=this.state[~~(this.count/4)]>>>this.count%4*8&255,this.count+=1,this.count===this.blockSize&&(n.p1600(this.state),this.count=0);return output},o.prototype.copy=function(e){for(let i=0;i<50;++i)e.state[i]=this.state[i];e.blockSize=this.blockSize,e.count=this.count,e.squeezing=this.squeezing},e.exports=o}).call(this,r(11).Buffer)},946:function(e,t){const r=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];t.p1600=function(s){for(let e=0;e<24;++e){const t=s[0]^s[10]^s[20]^s[30]^s[40],n=s[1]^s[11]^s[21]^s[31]^s[41],o=s[2]^s[12]^s[22]^s[32]^s[42],l=s[3]^s[13]^s[23]^s[33]^s[43],h=s[4]^s[14]^s[24]^s[34]^s[44],c=s[5]^s[15]^s[25]^s[35]^s[45],d=s[6]^s[16]^s[26]^s[36]^s[46],f=s[7]^s[17]^s[27]^s[37]^s[47],m=s[8]^s[18]^s[28]^s[38]^s[48],_=s[9]^s[19]^s[29]^s[39]^s[49];let y=m^(o<<1|l>>>31),w=_^(l<<1|o>>>31);const E=s[0]^y,v=s[1]^w,S=s[10]^y,k=s[11]^w,A=s[20]^y,T=s[21]^w,P=s[30]^y,R=s[31]^w,x=s[40]^y,M=s[41]^w;y=t^(h<<1|c>>>31),w=n^(c<<1|h>>>31);const N=s[2]^y,I=s[3]^w,C=s[12]^y,B=s[13]^w,D=s[22]^y,L=s[23]^w,O=s[32]^y,F=s[33]^w,U=s[42]^y,j=s[43]^w;y=o^(d<<1|f>>>31),w=l^(f<<1|d>>>31);const W=s[4]^y,H=s[5]^w,z=s[14]^y,$=s[15]^w,J=s[24]^y,K=s[25]^w,Q=s[34]^y,G=s[35]^w,V=s[44]^y,X=s[45]^w;y=h^(m<<1|_>>>31),w=c^(_<<1|m>>>31);const Y=s[6]^y,Z=s[7]^w,ee=s[16]^y,te=s[17]^w,re=s[26]^y,ne=s[27]^w,se=s[36]^y,ie=s[37]^w,oe=s[46]^y,ae=s[47]^w;y=d^(t<<1|n>>>31),w=f^(n<<1|t>>>31);const ue=s[8]^y,le=s[9]^w,he=s[18]^y,ce=s[19]^w,de=s[28]^y,fe=s[29]^w,ge=s[38]^y,pe=s[39]^w,me=s[48]^y,_e=s[49]^w,ye=E,we=v,be=k<<4|S>>>28,Ee=S<<4|k>>>28,ve=A<<3|T>>>29,Se=T<<3|A>>>29,ke=R<<9|P>>>23,Ae=P<<9|R>>>23,Te=x<<18|M>>>14,Pe=M<<18|x>>>14,Re=N<<1|I>>>31,xe=I<<1|N>>>31,Me=B<<12|C>>>20,Ne=C<<12|B>>>20,Ie=D<<10|L>>>22,Ce=L<<10|D>>>22,Be=F<<13|O>>>19,De=O<<13|F>>>19,Le=U<<2|j>>>30,Oe=j<<2|U>>>30,Fe=H<<30|W>>>2,Ue=W<<30|H>>>2,je=z<<6|$>>>26,qe=$<<6|z>>>26,We=K<<11|J>>>21,He=J<<11|K>>>21,ze=Q<<15|G>>>17,$e=G<<15|Q>>>17,Je=X<<29|V>>>3,Ke=V<<29|X>>>3,Qe=Y<<28|Z>>>4,Ge=Z<<28|Y>>>4,Ve=te<<23|ee>>>9,Xe=ee<<23|te>>>9,Ye=re<<25|ne>>>7,Ze=ne<<25|re>>>7,et=se<<21|ie>>>11,tt=ie<<21|se>>>11,nt=ae<<24|oe>>>8,st=oe<<24|ae>>>8,it=ue<<27|le>>>5,ot=le<<27|ue>>>5,at=he<<20|ce>>>12,ut=ce<<20|he>>>12,lt=fe<<7|de>>>25,ht=de<<7|fe>>>25,ct=ge<<8|pe>>>24,ft=pe<<8|ge>>>24,gt=me<<14|_e>>>18,pt=_e<<14|me>>>18;s[0]=ye^~Me&We,s[1]=we^~Ne&He,s[10]=Qe^~at&ve,s[11]=Ge^~ut&Se,s[20]=Re^~je&Ye,s[21]=xe^~qe&Ze,s[30]=it^~be&Ie,s[31]=ot^~Ee&Ce,s[40]=Fe^~Ve&lt,s[41]=Ue^~Xe&ht,s[2]=Me^~We&et,s[3]=Ne^~He&tt,s[12]=at^~ve&Be,s[13]=ut^~Se&De,s[22]=je^~Ye&ct,s[23]=qe^~Ze&ft,s[32]=be^~Ie&ze,s[33]=Ee^~Ce&$e,s[42]=Ve^~lt&ke,s[43]=Xe^~ht&Ae,s[4]=We^~et&gt,s[5]=He^~tt&pt,s[14]=ve^~Be&Je,s[15]=Se^~De&Ke,s[24]=Ye^~ct&Te,s[25]=Ze^~ft&Pe,s[34]=Ie^~ze&nt,s[35]=Ce^~$e&st,s[44]=lt^~ke&Le,s[45]=ht^~Ae&Oe,s[6]=et^~gt&ye,s[7]=tt^~pt&we,s[16]=Be^~Je&Qe,s[17]=De^~Ke&Ge,s[26]=ct^~Te&Re,s[27]=ft^~Pe&xe,s[36]=ze^~nt&it,s[37]=$e^~st&ot,s[46]=ke^~Le&Fe,s[47]=Ae^~Oe&Ue,s[8]=gt^~ye&Me,s[9]=pt^~we&Ne,s[18]=Je^~Qe&at,s[19]=Ke^~Ge&ut,s[28]=Te^~Re&je,s[29]=Pe^~xe&qe,s[38]=nt^~it&be,s[39]=st^~ot&Ee,s[48]=Le^~Fe&Ve,s[49]=Oe^~Ue&Xe,s[0]^=r[2*e],s[1]^=r[2*e+1]}}},947:function(e,t,r){(function(t){const n=r(457),o=r(227);function l(e){return e.startsWith("int[")?"int256"+e.slice(3):"int"===e?"int256":e.startsWith("uint[")?"uint256"+e.slice(4):"uint"===e?"uint256":e.startsWith("fixed[")?"fixed128x128"+e.slice(5):"fixed"===e?"fixed128x128":e.startsWith("ufixed[")?"ufixed128x128"+e.slice(6):"ufixed"===e?"ufixed128x128":e}function h(e){return parseInt(/^\D+(\d+)$/.exec(e)[1],10)}function c(e){var t=/^\D+(\d+)x(\d+)$/.exec(e);return[parseInt(t[1],10),parseInt(t[2],10)]}function d(e){var t=e.match(/(.*)\[(.*?)\]$/);return t?""===t[2]?"dynamic":parseInt(t[2],10):null}function f(e){var t=typeof e;if("string"===t)return n.isHexString(e)?new o(n.stripHexPrefix(e),16):new o(e,10);if("number"===t)return new o(e);if(e.toArray)return e;throw new Error("Argument is not a number")}function m(e,r){var l,_,y,i;if("address"===e)return m("uint160",f(r));if("bool"===e)return m("uint8",r?1:0);if("string"===e)return m("bytes",new t(r,"utf8"));if(function(e){return e.lastIndexOf("]")===e.length-1}(e)){if(void 0===r.length)throw new Error("Not an array?");if("dynamic"!==(l=d(e))&&0!==l&&r.length>l)throw new Error("Elements exceed array size: "+l);for(i in y=[],e=e.slice(0,e.lastIndexOf("[")),"string"==typeof r&&(r=JSON.parse(r)),r)y.push(m(e,r[i]));if("dynamic"===l){var w=m("uint256",r.length);y.unshift(w)}return t.concat(y)}if("bytes"===e)return r=new t(r),y=t.concat([m("uint256",r.length),r]),r.length%32!=0&&(y=t.concat([y,n.zeros(32-r.length%32)])),y;if(e.startsWith("bytes")){if((l=h(e))<1||l>32)throw new Error("Invalid bytes<N> width: "+l);return n.setLengthRight(r,32)}if(e.startsWith("uint")){if((l=h(e))%8||l<8||l>256)throw new Error("Invalid uint<N> width: "+l);if((_=f(r)).bitLength()>l)throw new Error("Supplied uint exceeds width: "+l+" vs "+_.bitLength());if(_<0)throw new Error("Supplied uint is negative");return _.toArrayLike(t,"be",32)}if(e.startsWith("int")){if((l=h(e))%8||l<8||l>256)throw new Error("Invalid int<N> width: "+l);if((_=f(r)).bitLength()>l)throw new Error("Supplied int exceeds width: "+l+" vs "+_.bitLength());return _.toTwos(256).toArrayLike(t,"be",32)}if(e.startsWith("ufixed")){if(l=c(e),(_=f(r))<0)throw new Error("Supplied ufixed is negative");return m("uint256",_.mul(new o(2).pow(new o(l[1]))))}if(e.startsWith("fixed"))return l=c(e),m("int256",f(r).mul(new o(2).pow(new o(l[1]))));throw new Error("Unsupported or invalid type: "+e)}function _(e){return"string"===e||"bytes"===e||"dynamic"===d(e)}function y(e,r){if(e.length!==r.length)throw new Error("Number of types are not matching the values");for(var o,c,d=[],i=0;i<e.length;i++){var m=l(e[i]),_=r[i];if("bytes"===m)d.push(_);else if("string"===m)d.push(new t(_,"utf8"));else if("bool"===m)d.push(new t(_?"01":"00","hex"));else if("address"===m)d.push(n.setLength(_,20));else if(m.startsWith("bytes")){if((o=h(m))<1||o>32)throw new Error("Invalid bytes<N> width: "+o);d.push(n.setLengthRight(_,o))}else if(m.startsWith("uint")){if((o=h(m))%8||o<8||o>256)throw new Error("Invalid uint<N> width: "+o);if((c=f(_)).bitLength()>o)throw new Error("Supplied uint exceeds width: "+o+" vs "+c.bitLength());d.push(c.toArrayLike(t,"be",o/8))}else{if(!m.startsWith("int"))throw new Error("Unsupported or invalid type: "+m);if((o=h(m))%8||o<8||o>256)throw new Error("Invalid int<N> width: "+o);if((c=f(_)).bitLength()>o)throw new Error("Supplied int exceeds width: "+o+" vs "+c.bitLength());d.push(c.toTwos(o).toArrayLike(t,"be",o/8))}}return t.concat(d)}e.exports={rawEncode:function(e,r){var output=[],data=[],n=32*e.length;for(var i in e){var o=l(e[i]),h=m(o,r[i]);_(o)?(output.push(m("uint256",n)),data.push(h),n+=h.length):output.push(h)}return t.concat(output.concat(data))},solidityPack:y,soliditySHA3:function(e,t){return n.keccak(y(e,t))}}}).call(this,r(11).Buffer)},948:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(328),o=r(228),l={jsonrpc:"2.0",id:0};function h(param){return{fromBlock:d(param.fromBlock),toBlock:d(param.toBlock),addresses:void 0===param.address?null:Array.isArray(param.address)?param.address:[param.address],topics:param.topics||[]}}function c(filter){const param={fromBlock:f(filter.fromBlock),toBlock:f(filter.toBlock),topics:filter.topics};return null!==filter.addresses&&(param.address=filter.addresses),param}function d(e){if(void 0===e||"latest"===e||"pending"===e)return"latest";if("earliest"===e)return n.IntNumber(0);if(o.isHexString(e))return o.intNumberFromHexString(e);throw new Error(`Invalid block option: ${e}`)}function f(e){return"latest"===e?e:o.hexStringFromIntNumber(e)}function m(){return Object.assign(Object.assign({},l),{error:{code:-32e3,message:"filter not found"}})}function _(){return Object.assign(Object.assign({},l),{result:[]})}t.FilterPolyfill=class{constructor(e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=n.IntNumber(1),this.provider=e}async newFilter(param){const filter=h(param),e=this.makeFilterId(),cursor=await this.setInitialCursorPosition(e,filter.fromBlock);return console.log(`Installing new log filter(${e}):`,filter,"initial cursor position:",cursor),this.logFilters.set(e,filter),this.setFilterTimeout(e),o.hexStringFromIntNumber(e)}async newBlockFilter(){const e=this.makeFilterId(),cursor=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,cursor),this.blockFilters.add(e),this.setFilterTimeout(e),o.hexStringFromIntNumber(e)}async newPendingTransactionFilter(){const e=this.makeFilterId(),cursor=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,cursor),this.pendingTransactionFilters.add(e),this.setFilterTimeout(e),o.hexStringFromIntNumber(e)}uninstallFilter(e){const t=o.intNumberFromHexString(e);return console.log(`Uninstalling filter (${t})`),this.deleteFilter(t),!0}getFilterChanges(e){const t=o.intNumberFromHexString(e);return this.timeouts.has(t)&&this.setFilterTimeout(t),this.logFilters.has(t)?this.getLogFilterChanges(t):this.blockFilters.has(t)?this.getBlockFilterChanges(t):this.pendingTransactionFilters.has(t)?this.getPendingTransactionFilterChanges(t):Promise.resolve(m())}async getFilterLogs(e){const t=o.intNumberFromHexString(e),filter=this.logFilters.get(t);return filter?this.sendAsyncPromise(Object.assign(Object.assign({},l),{method:"eth_getLogs",params:[c(filter)]})):m()}makeFilterId(){return n.IntNumber(++this.nextFilterId)}sendAsyncPromise(e){return new Promise((t,r)=>{this.provider.sendAsync(e,(e,n)=>e?r(e):Array.isArray(n)||null==n?r(new Error(`unexpected response received: ${JSON.stringify(n)}`)):void t(n))})}deleteFilter(e){console.log(`Deleting filter (${e})`),this.logFilters.delete(e),this.blockFilters.delete(e),this.pendingTransactionFilters.delete(e),this.cursors.delete(e),this.timeouts.delete(e)}async getLogFilterChanges(e){const filter=this.logFilters.get(e),t=this.cursors.get(e);if(!t||!filter)return m();const r=await this.getCurrentBlockHeight(),h="latest"===filter.toBlock?r:filter.toBlock;if(t>r)return _();if(t>filter.toBlock)return _();console.log(`Fetching logs from ${t} to ${h} for filter ${e}`);const d=await this.sendAsyncPromise(Object.assign(Object.assign({},l),{method:"eth_getLogs",params:[c(Object.assign(Object.assign({},filter),{fromBlock:t,toBlock:h}))]}));if(Array.isArray(d.result)){const r=d.result.map(e=>o.intNumberFromHexString(e.blockNumber||"0x0")),l=Math.max(...r);if(l&&l>t){const r=n.IntNumber(l+1);console.log(`Moving cursor position for filter (${e}) from ${t} to ${r}`),this.cursors.set(e,r)}}return d}async getBlockFilterChanges(e){const t=this.cursors.get(e);if(!t)return m();const r=await this.getCurrentBlockHeight();if(t>r)return _();console.log(`Fetching blocks from ${t} to ${r} for filter (${e})`);const h=(await Promise.all(o.range(t,r+1).map(i=>this.getBlockHashByNumber(n.IntNumber(i))))).filter(e=>!!e),c=n.IntNumber(t+h.length);return console.log(`Moving cursor position for filter (${e}) from ${t} to ${c}`),this.cursors.set(e,c),Object.assign(Object.assign({},l),{result:h})}async getPendingTransactionFilterChanges(e){return Promise.resolve(_())}async setInitialCursorPosition(e,t){const r=await this.getCurrentBlockHeight(),n="number"==typeof t&&t>r?t:r;return this.cursors.set(e,n),n}setFilterTimeout(e){const t=this.timeouts.get(e);t&&window.clearTimeout(t);const r=window.setTimeout(()=>{console.log(`Filter (${e}) timed out`),this.deleteFilter(e)},3e5);this.timeouts.set(e,r)}async getCurrentBlockHeight(){const{result:e}=await this.sendAsyncPromise(Object.assign(Object.assign({},l),{method:"eth_blockNumber",params:[]}));return o.intNumberFromHexString(o.ensureHexString(e))}async getBlockHashByNumber(e){const t=await this.sendAsyncPromise(Object.assign(Object.assign({},l),{method:"eth_getBlockByNumber",params:[o.hexStringFromIntNumber(e),!1]}));return t.result&&"string"==typeof t.result.hash?o.ensureHexString(t.result.hash):null}},t.filterFromParam=h},949:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.eth_accounts="eth_accounts",e.eth_coinbase="eth_coinbase",e.net_version="net_version",e.eth_uninstallFilter="eth_uninstallFilter",e.eth_requestAccounts="eth_requestAccounts",e.eth_sign="eth_sign",e.eth_ecRecover="eth_ecRecover",e.personal_sign="personal_sign",e.personal_ecRecover="personal_ecRecover",e.eth_signTransaction="eth_signTransaction",e.eth_sendRawTransaction="eth_sendRawTransaction",e.eth_sendTransaction="eth_sendTransaction",e.eth_signTypedData_v1="eth_signTypedData_v1",e.eth_signTypedData_v2="eth_signTypedData_v2",e.eth_signTypedData_v3="eth_signTypedData_v3",e.eth_signTypedData_v4="eth_signTypedData_v4",e.eth_signTypedData="eth_signTypedData",e.walletlink_arbitrary="walletlink_arbitrary",e.eth_newFilter="eth_newFilter",e.eth_newBlockFilter="eth_newBlockFilter",e.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",e.eth_getFilterChanges="eth_getFilterChanges",e.eth_getFilterLogs="eth_getFilterLogs"}(t.JSONRPCMethod||(t.JSONRPCMethod={}))},950:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.USER_DENIED_REQUEST_ACCOUNTS=4001]="USER_DENIED_REQUEST_ACCOUNTS",e[e.USER_DENIED_CREATE_ACCOUNT=4010]="USER_DENIED_CREATE_ACCOUNT",e[e.UNAUTHORIZED=4100]="UNAUTHORIZED",e[e.UNSUPPORTED_METHOD=4200]="UNSUPPORTED_METHOD",e[e.USER_DENIED_REQUEST_SIGNATURE=-32603]="USER_DENIED_REQUEST_SIGNATURE"}(t.ProviderErrorCode||(t.ProviderErrorCode={}));class n extends Error{constructor(e,code,data){super(e||"Provider Error"),this.code=code,this.data=data,this.name="ProviderError",Object.setPrototypeOf(this,n.prototype)}}t.ProviderError=n},951:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(952));t.injectCssReset=function(){const e=document.createElement("style");e.type="text/css",e.appendChild(document.createTextNode(o.default)),document.documentElement.appendChild(e)}},952:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='.-walletlink-css-reset,.-walletlink-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:transparent;background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;bottom:auto;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;content:normal;counter-increment:none;counter-reset:none;cursor:auto;direction:ltr;display:block;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;left:auto;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";right:auto;tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;top:auto;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;width:auto;word-spacing:normal;z-index:auto;all:initial;all:unset}.-walletlink-css-reset *{box-sizing:border-box;display:initial;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-walletlink-css-reset [class*=container]{margin:0;padding:0}.-walletlink-css-reset style{display:none}'},953:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,desc){var n,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(l=(o<3?n(l):o>3?n(t,r,l):n(t,r))||l);return o>3&&l&&Object.defineProperty(t,r,l),l},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const h=o(r(954)),c=o(r(68)),d=r(191),f=r(231),m=o(r(152)),_=r(955),y=r(962),w=r(964),E=r(968),v=r(228),S=l(r(969)),k=r(970),A=r(555),T=r(971),P=r(972),R=r(973),x=r(974);class M{constructor(e){this.appName="",this.appLogoUrl=null,this.attached=!1,this.walletLinkUrl=e.walletLinkUrl;const u=m.default.parse(this.walletLinkUrl);this.walletLinkOrigin=`${u.protocol}//${u.host}`,this.storage=new E.ScopedLocalStorage(`-walletlink:${this.walletLinkOrigin}`),this.session=k.Session.load(this.storage)||new k.Session(this.storage).save(),this.connection=new w.WalletLinkConnection(this.session.id,this.session.key,this.walletLinkUrl),this.connection.incomingEvent$.pipe(f.filter(e=>"Web3Response"===e.event)).subscribe({next:this.handleIncomingEvent}),this.connection.sessionConfig$.pipe(f.filter(e=>!!e.metadata&&"1"===e.metadata.__destroyed)).subscribe({next:this.resetAndReload}),this.snackbar=new y.Snackbar({darkMode:e.darkMode}),this.linkFlow=new _.LinkFlow({darkMode:e.darkMode,version:e.version,sessionId:this.session.id,sessionSecret:this.session.secret,walletLinkUrl:this.walletLinkUrl,connected$:this.connection.connected$}),this.connection.connect()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe(f.timeout(1e3),f.catchError(e=>d.of(null))).subscribe(e=>{this.connection.destroy(),this.storage.clear(),document.location.reload()})}setAppInfo(e,t){this.appName=e,this.appLogoUrl=t}attach(e){if(this.attached)throw new Error("WalletLinkRelay is already attached");const t=document.createElement("div");t.className="-walletlink-css-reset",e.appendChild(t),this.linkFlow.attach(t),this.snackbar.attach(t)}getStorageItem(e){return this.storage.getItem(e)}setStorageItem(e,t){this.storage.setItem(e,t)}requestEthereumAccounts(){return this.sendRequest({method:A.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}})}signEthereumMessage(e,address,t,r){return this.sendRequest({method:A.Web3Method.signEthereumMessage,params:{message:v.hexStringFromBuffer(e,!0),address:address,addPrefix:t,typedDataJson:r||null}})}ethereumAddressFromSignedMessage(e,t,r){return this.sendRequest({method:A.Web3Method.ethereumAddressFromSignedMessage,params:{message:v.hexStringFromBuffer(e,!0),signature:v.hexStringFromBuffer(t,!0),addPrefix:r}})}signEthereumTransaction(e){return this.sendRequest({method:A.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:v.bigIntStringFromBN(e.weiValue),data:v.hexStringFromBuffer(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?v.bigIntStringFromBN(e.gasPriceInWei):null,gasLimit:e.gasLimit?v.bigIntStringFromBN(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:A.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:v.bigIntStringFromBN(e.weiValue),data:v.hexStringFromBuffer(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?v.bigIntStringFromBN(e.gasPriceInWei):null,gasLimit:e.gasLimit?v.bigIntStringFromBN(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,t){return this.sendRequest({method:A.Web3Method.submitEthereumTransaction,params:{signedTransaction:v.hexStringFromBuffer(e,!0),chainId:t}})}scanQRCode(e){return this.sendRequest({method:A.Web3Method.scanQRCode,params:{regExp:e}})}arbitraryRequest(data){return this.sendRequest({method:A.Web3Method.arbitrary,params:{data:data}})}sendRequest(e){return new Promise((t,r)=>{let n=null;const o=c.default.randomBytes(8).toString("hex"),l=()=>{this.publishWeb3RequestCanceledEvent(o),this.handleWeb3ResponseMessage(x.Web3ResponseMessage({id:o,response:R.ErrorResponse(e.method,"User rejected request")})),null==n||n()};if(e.method===A.Web3Method.requestEthereumAccounts)this.linkFlow.open({onCancel:l}),M.accountRequestCallbackIds.add(o);else{const e={message:"Pushed a request to your wallet...",showProgressBar:!0,actions:[{info:"Made a mistake?",buttonLabel:"Cancel",onClick:l},{info:"Not receiving requests?",buttonLabel:"Reset Connection",onClick:this.resetAndReload}]};n=this.snackbar.presentItem(e)}M.callbacks.set(o,e=>{if(this.linkFlow.close(),null==n||n(),e.errorMessage)return r(new Error(e.errorMessage));t(e)}),this.publishWeb3RequestEvent(o,e)})}publishWeb3RequestEvent(e,t){const r=P.Web3RequestMessage({id:e,request:t});this.publishEvent("Web3Request",r,!0).subscribe({error:e=>{this.handleWeb3ResponseMessage(x.Web3ResponseMessage({id:r.id,response:{method:r.request.method,errorMessage:e.message}}))}})}publishWeb3RequestCanceledEvent(e){const t=T.Web3RequestCanceledMessage(e);this.publishEvent("Web3RequestCanceled",t,!1).subscribe()}publishEvent(e,t,r){const n=S.encrypt(JSON.stringify(Object.assign(Object.assign({},t),{origin:location.origin})),this.session.secret);return this.connection.publishEvent(e,n,r)}handleIncomingEvent(e){let t;try{t=JSON.parse(S.decrypt(e.data,this.session.secret))}catch(e){return}const r=x.isWeb3ResponseMessage(t)?t:null;r&&this.handleWeb3ResponseMessage(r)}handleWeb3ResponseMessage(e){const{response:t}=e;if(R.isRequestEthereumAccountsResponse(t))return Array.from(M.accountRequestCallbackIds.values()).forEach(t=>this.invokeCallback(Object.assign(Object.assign({},e),{id:t}))),void M.accountRequestCallbackIds.clear();this.invokeCallback(e)}invokeCallback(e){const t=M.callbacks.get(e.id);t&&(t(e.response),M.callbacks.delete(e.id))}}M.callbacks=new Map,M.accountRequestCallbackIds=new Set,n([h.default],M.prototype,"resetAndReload",null),n([h.default],M.prototype,"handleIncomingEvent",null),t.WalletLinkRelay=M},959:function(e,t){function r(data){this.mode=o.MODE_8BIT_BYTE,this.data=data,this.parsedData=[];for(var i=0,e=this.data.length;i<e;i++){var t=[],code=this.data.charCodeAt(i);code>65536?(t[0]=240|(1835008&code)>>>18,t[1]=128|(258048&code)>>>12,t[2]=128|(4032&code)>>>6,t[3]=128|63&code):code>2048?(t[0]=224|(61440&code)>>>12,t[1]=128|(4032&code)>>>6,t[2]=128|63&code):code>128?(t[0]=192|(1984&code)>>>6,t[1]=128|63&code):t[0]=code,this.parsedData.push(t)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function n(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}r.prototype={getLength:function(e){return this.parsedData.length},write:function(e){for(var i=0,t=this.parsedData.length;i<t;i++)e.put(this.parsedData[i],8)}},n.prototype={addData:function(data){var e=new r(data);this.dataList.push(e),this.dataCache=null},isDark:function(e,col){if(e<0||this.moduleCount<=e||col<0||this.moduleCount<=col)throw new Error(e+","+col);return this.modules[e][col]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var col=0;col<this.moduleCount;col++)this.modules[r][col]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=n.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(e,col){for(var t=-1;t<=7;t++)if(!(e+t<=-1||this.moduleCount<=e+t))for(var r=-1;r<=7;r++)col+r<=-1||this.moduleCount<=col+r||(this.modules[e+t][col+r]=0<=t&&t<=6&&(0==r||6==r)||0<=r&&r<=6&&(0==t||6==t)||2<=t&&t<=4&&2<=r&&r<=4)},getBestMaskPattern:function(){for(var e=0,pattern=0,i=0;i<8;i++){this.makeImpl(!0,i);var t=k.getLostPoint(this);(0==i||e>t)&&(e=t,pattern=i)}return pattern},createMovieClip:function(e,t,r){var n=e.createEmptyMovieClip(t,r);this.make();for(var o=0;o<this.modules.length;o++)for(var l=1*o,col=0;col<this.modules[o].length;col++){var h=1*col;this.modules[o][col]&&(n.beginFill(0,100),n.moveTo(h,l),n.lineTo(h+1,l),n.lineTo(h+1,l+1),n.lineTo(h,l+1),n.endFill())}return n},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=k.getPatternPosition(this.typeNumber),i=0;i<e.length;i++)for(var t=0;t<e.length;t++){var r=e[i],col=e[t];if(null==this.modules[r][col])for(var n=-2;n<=2;n++)for(var o=-2;o<=2;o++)this.modules[r+n][col+o]=-2==n||2==n||-2==o||2==o||0==n&&0==o}},setupTypeNumber:function(e){for(var t=k.getBCHTypeNumber(this.typeNumber),i=0;i<18;i++){var r=!e&&1==(t>>i&1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=r}for(i=0;i<18;i++){r=!e&&1==(t>>i&1);this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=r}},setupTypeInfo:function(e,t){for(var data=this.errorCorrectLevel<<3|t,r=k.getBCHTypeInfo(data),i=0;i<15;i++){var n=!e&&1==(r>>i&1);i<6?this.modules[i][8]=n:i<8?this.modules[i+1][8]=n:this.modules[this.moduleCount-15+i][8]=n}for(i=0;i<15;i++){n=!e&&1==(r>>i&1);i<8?this.modules[8][this.moduleCount-i-1]=n:i<9?this.modules[8][15-i-1+1]=n:this.modules[8][15-i-1]=n}this.modules[this.moduleCount-8][8]=!e},mapData:function(data,e){for(var t=-1,r=this.moduleCount-1,n=7,o=0,col=this.moduleCount-1;col>0;col-=2)for(6==col&&col--;;){for(var l=0;l<2;l++)if(null==this.modules[r][col-l]){var h=!1;o<data.length&&(h=1==(data[o]>>>n&1)),k.getMask(e,r,col-l)&&(h=!h),this.modules[r][col-l]=h,-1==--n&&(o++,n=7)}if((r+=t)<0||this.moduleCount<=r){r-=t,t=-t;break}}}},n.PAD0=236,n.PAD1=17,n.createData=function(e,t,r){for(var o=P.getRSBlocks(e,t),l=new R,i=0;i<r.length;i++){var data=r[i];l.put(data.mode,4),l.put(data.getLength(),k.getLengthInBits(data.mode,e)),data.write(l)}var h=0;for(i=0;i<o.length;i++)h+=o[i].dataCount;if(l.getLengthInBits()>8*h)throw new Error("code length overflow. ("+l.getLengthInBits()+">"+8*h+")");for(l.getLengthInBits()+4<=8*h&&l.put(0,4);l.getLengthInBits()%8!=0;)l.putBit(!1);for(;!(l.getLengthInBits()>=8*h||(l.put(n.PAD0,8),l.getLengthInBits()>=8*h));)l.put(n.PAD1,8);return n.createBytes(l,o)},n.createBytes=function(e,t){for(var r=0,n=0,o=0,l=new Array(t.length),h=new Array(t.length),c=0;c<t.length;c++){var d=t[c].dataCount,f=t[c].totalCount-d;n=Math.max(n,d),o=Math.max(o,f),l[c]=new Array(d);for(var i=0;i<l[c].length;i++)l[c][i]=255&e.buffer[i+r];r+=d;var m=k.getErrorCorrectPolynomial(f),_=new T(l[c],m.getLength()-1).mod(m);h[c]=new Array(m.getLength()-1);for(i=0;i<h[c].length;i++){var y=i+_.getLength()-h[c].length;h[c][i]=y>=0?_.get(y):0}}var w=0;for(i=0;i<t.length;i++)w+=t[i].totalCount;var data=new Array(w),E=0;for(i=0;i<n;i++)for(c=0;c<t.length;c++)i<l[c].length&&(data[E++]=l[c][i]);for(i=0;i<o;i++)for(c=0;c<t.length;c++)i<h[c].length&&(data[E++]=h[c][i]);return data};for(var o={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},l=1,h=0,c=3,d=2,f=0,m=1,_=2,y=3,w=4,E=5,v=6,S=7,k={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(data){for(var e=data<<10;k.getBCHDigit(e)-k.getBCHDigit(k.G15)>=0;)e^=k.G15<<k.getBCHDigit(e)-k.getBCHDigit(k.G15);return(data<<10|e)^k.G15_MASK},getBCHTypeNumber:function(data){for(var e=data<<12;k.getBCHDigit(e)-k.getBCHDigit(k.G18)>=0;)e^=k.G18<<k.getBCHDigit(e)-k.getBCHDigit(k.G18);return data<<12|e},getBCHDigit:function(data){for(var e=0;0!=data;)e++,data>>>=1;return e},getPatternPosition:function(e){return k.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,i,t){switch(e){case f:return(i+t)%2==0;case m:return i%2==0;case _:return t%3==0;case y:return(i+t)%3==0;case w:return(Math.floor(i/2)+Math.floor(t/3))%2==0;case E:return i*t%2+i*t%3==0;case v:return(i*t%2+i*t%3)%2==0;case S:return(i*t%3+(i+t)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var a=new T([1],0),i=0;i<e;i++)a=a.multiply(new T([1,A.gexp(i)],0));return a},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case o.MODE_NUMBER:return 10;case o.MODE_ALPHA_NUM:return 9;case o.MODE_8BIT_BYTE:case o.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case o.MODE_NUMBER:return 12;case o.MODE_ALPHA_NUM:return 11;case o.MODE_8BIT_BYTE:return 16;case o.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case o.MODE_NUMBER:return 14;case o.MODE_ALPHA_NUM:return 13;case o.MODE_8BIT_BYTE:return 16;case o.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),r=0,n=0;n<t;n++)for(var col=0;col<t;col++){for(var o=0,l=e.isDark(n,col),h=-1;h<=1;h++)if(!(n+h<0||t<=n+h))for(var c=-1;c<=1;c++)col+c<0||t<=col+c||0==h&&0==c||l==e.isDark(n+h,col+c)&&o++;o>5&&(r+=3+o-5)}for(n=0;n<t-1;n++)for(col=0;col<t-1;col++){var d=0;e.isDark(n,col)&&d++,e.isDark(n+1,col)&&d++,e.isDark(n,col+1)&&d++,e.isDark(n+1,col+1)&&d++,0!=d&&4!=d||(r+=3)}for(n=0;n<t;n++)for(col=0;col<t-6;col++)e.isDark(n,col)&&!e.isDark(n,col+1)&&e.isDark(n,col+2)&&e.isDark(n,col+3)&&e.isDark(n,col+4)&&!e.isDark(n,col+5)&&e.isDark(n,col+6)&&(r+=40);for(col=0;col<t;col++)for(n=0;n<t-6;n++)e.isDark(n,col)&&!e.isDark(n+1,col)&&e.isDark(n+2,col)&&e.isDark(n+3,col)&&e.isDark(n+4,col)&&!e.isDark(n+5,col)&&e.isDark(n+6,col)&&(r+=40);var f=0;for(col=0;col<t;col++)for(n=0;n<t;n++)e.isDark(n,col)&&f++;return r+=10*(Math.abs(100*f/t/t-50)/5)}},A={glog:function(e){if(e<1)throw new Error("glog("+e+")");return A.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return A.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},i=0;i<8;i++)A.EXP_TABLE[i]=1<<i;for(i=8;i<256;i++)A.EXP_TABLE[i]=A.EXP_TABLE[i-4]^A.EXP_TABLE[i-5]^A.EXP_TABLE[i-6]^A.EXP_TABLE[i-8];for(i=0;i<255;i++)A.LOG_TABLE[A.EXP_TABLE[i]]=i;function T(e,t){if(null==e.length)throw new Error(e.length+"/"+t);for(var r=0;r<e.length&&0==e[r];)r++;this.num=new Array(e.length-r+t);for(var i=0;i<e.length-r;i++)this.num[i]=e[i+r]}function P(e,t){this.totalCount=e,this.dataCount=t}function R(){this.buffer=[],this.length=0}T.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),i=0;i<this.getLength();i++)for(var r=0;r<e.getLength();r++)t[i+r]^=A.gexp(A.glog(this.get(i))+A.glog(e.get(r)));return new T(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=A.glog(this.get(0))-A.glog(e.get(0)),r=new Array(this.getLength()),i=0;i<this.getLength();i++)r[i]=this.get(i);for(i=0;i<e.getLength();i++)r[i]^=A.gexp(A.glog(e.get(i))+t);return new T(r,0).mod(e)}},P.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],P.getRSBlocks=function(e,t){var r=P.getRsBlockTable(e,t);if(null==r)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var n=r.length/3,o=[],i=0;i<n;i++)for(var l=r[3*i+0],h=r[3*i+1],c=r[3*i+2],d=0;d<l;d++)o.push(new P(h,c));return o},P.getRsBlockTable=function(e,t){switch(t){case l:return P.RS_BLOCK_TABLE[4*(e-1)+0];case h:return P.RS_BLOCK_TABLE[4*(e-1)+1];case c:return P.RS_BLOCK_TABLE[4*(e-1)+2];case d:return P.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},R.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var i=0;i<t;i++)this.putBit(1==(e>>>t-i-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var x=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function M(e){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M"},"string"==typeof e&&(e={content:e}),e)for(var i in e)this.options[i]=e[i];if("string"!=typeof this.options.content)throw new Error("Expected 'content' as string!");if(0===this.options.content.length)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0&&this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");var content=this.options.content,t=function(content,e){for(var t=function(content){var e=encodeURI(content).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return e.length+(e.length!=content?3:0)}(content),r=1,n=0,i=0,o=x.length;i<=o;i++){var table=x[i];if(!table)throw new Error("Content too long: expected "+n+" but got "+t);switch(e){case"L":n=table[0];break;case"M":n=table[1];break;case"Q":n=table[2];break;case"H":n=table[3];break;default:throw new Error("Unknwon error correction level: "+e)}if(t<=n)break;r++}if(r>x.length)throw new Error("Content too long");return r}(content,this.options.ecl),r=function(e){switch(e){case"L":return l;case"M":return h;case"Q":return c;case"H":return d;default:throw new Error("Unknwon error correction level: "+e)}}(this.options.ecl);this.qrcode=new n(t,r),this.qrcode.addData(content),this.qrcode.make()}M.prototype.svg=function(e){var t=this.options||{},r=this.qrcode.modules;void 0===e&&(e={container:t.container||"svg"});for(var n=void 0===t.pretty||!!t.pretty,o=n?"  ":"",l=n?"\r\n":"",h=t.width,c=t.height,d=r.length,f=h/(d+2*t.padding),m=c/(d+2*t.padding),_=void 0!==t.join&&!!t.join,y=void 0!==t.swap&&!!t.swap,w=void 0===t.xmlDeclaration||!!t.xmlDeclaration,E=void 0!==t.predefined&&!!t.predefined,defs=E?o+'<defs><path id="qrmodule" d="M0 0 h'+m+" v"+f+' H0 z" style="fill:'+t.color+';shape-rendering:crispEdges;" /></defs>'+l:"",v=o+'<rect x="0" y="0" width="'+h+'" height="'+c+'" style="fill:'+t.background+';shape-rendering:crispEdges;"/>'+l,S="",k="",A=0;A<d;A++)for(var T=0;T<d;T++){if(r[T][A]){var P=T*f+t.padding*f,R=A*m+t.padding*m;if(y){var x=P;P=R,R=x}if(_){var M=f+P,N=m+R;P=Number.isInteger(P)?Number(P):P.toFixed(2),R=Number.isInteger(R)?Number(R):R.toFixed(2),M=Number.isInteger(M)?Number(M):M.toFixed(2),k+="M"+P+","+R+" V"+(N=Number.isInteger(N)?Number(N):N.toFixed(2))+" H"+M+" V"+R+" H"+P+" Z "}else S+=E?o+'<use x="'+P.toString()+'" y="'+R.toString()+'" href="#qrmodule" />'+l:o+'<rect x="'+P.toString()+'" y="'+R.toString()+'" width="'+f+'" height="'+m+'" style="fill:'+t.color+';shape-rendering:crispEdges;"/>'+l}}_&&(S=o+'<path x="0" y="0" style="fill:'+t.color+';shape-rendering:crispEdges;" d="'+k+'" />');var svg="";switch(e.container){case"svg":w&&(svg+='<?xml version="1.0" standalone="yes"?>'+l),svg+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+h+'" height="'+c+'">'+l,svg+=defs+v+S,svg+="</svg>";break;case"svg-viewbox":w&&(svg+='<?xml version="1.0" standalone="yes"?>'+l),svg+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+h+" "+c+'">'+l,svg+=defs+v+S,svg+="</svg>";break;case"g":svg+='<g width="'+h+'" height="'+c+'">'+l,svg+=defs+v+S,svg+="</g>";break;default:svg+=(defs+v+S).replace(/^\s+/,"")}return svg},e.exports=M},968:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ScopedLocalStorage=class{constructor(e){this.scope=e}setItem(e,t){localStorage.setItem(this.scopedKey(e),t)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),t=[];for(let i=0;i<localStorage.length;i++){const r=localStorage.key(i);"string"==typeof r&&r.startsWith(e)&&t.push(r)}t.forEach(e=>localStorage.removeItem(e))}scopedKey(e){return`${this.scope}:${e}`}}},969:function(e,t,r){"use strict";(function(e){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(68));t.encrypt=function(t,r){const n=o.default.randomBytes(12),l=o.default.createCipheriv("aes-256-gcm",e.from(r,"hex"),n),h=e.concat([l.update(e.from(t,"utf8")),l.final()]);return e.concat([n,l.getAuthTag(),h]).toString("hex")},t.decrypt=function(t,r){const n=e.from(t,"hex"),l=n.slice(0,12),h=n.slice(12,28),c=n.slice(28),d=o.default.createDecipheriv("aes-256-gcm",e.from(r,"hex"),l);return d.setAuthTag(h),e.concat([d.update(c),d.final()]).toString("utf8")}}).call(this,r(11).Buffer)},970:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(68)),l=r(191),h=r(231);class c{constructor(e,t,r,n){this._storage=e,this._id=t||o.default.randomBytes(16).toString("hex"),this._secret=r||o.default.randomBytes(32).toString("hex"),this._key=o.default.createHash("sha256").update(`${this._id}, ${this._secret} WalletLink`,"ascii").digest("hex"),this._linked=!!n}static load(e){const t=e.getItem("session:id"),r=e.getItem("session:linked"),n=e.getItem("session:secret");return t&&n?new c(e,t,n,"1"===r):null}static clear(e){e.removeItem("session:secret"),e.removeItem("session:id"),e.removeItem("session:linked")}static get persistedSessionIdChange$(){return l.fromEvent(window,"storage").pipe(h.filter(e=>"session:id"===e.key),h.map(e=>({oldValue:e.oldValue||null,newValue:e.newValue||null})))}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem("session:id",this._id),this._storage.setItem("session:secret",this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem("session:linked",this._linked?"1":"0")}}t.Session=c},971:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(331);t.Web3RequestCanceledMessage=function(e){return{type:n.RelayMessageType.WEB3_REQUEST_CANCELED,id:e}}},972:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(331);t.Web3RequestMessage=function(e){return Object.assign({type:n.RelayMessageType.WEB3_REQUEST},e)}},973:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(555);t.ErrorResponse=function(e,t){return{method:e,errorMessage:t}},t.RequestEthereumAccountsResponse=function(e){return{method:n.Web3Method.requestEthereumAccounts,result:e}},t.isRequestEthereumAccountsResponse=function(e){return e&&e.method===n.Web3Method.requestEthereumAccounts}},974:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(331);t.Web3ResponseMessage=function(e){return Object.assign({type:n.RelayMessageType.WEB3_RESPONSE},e)},t.isWeb3ResponseMessage=function(e){return e&&e.type===n.RelayMessageType.WEB3_RESPONSE}}}]);