(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{1054:function(e,t,r){const n=r(95).EventEmitter,o=r(132).inherits,c=r(190),l=r(1055),map=r(1059),d=r(1073),h=r(1076),f=(r(580),r(340)),m=function(){}; 
function y(e){n.call(this),this.setMaxListeners(30),e=e||{}; 
const t={sendAsync:this._handleAsync.bind(this)},r=e.blockTrackerProvider||t; 
this._blockTracker=e.blockTracker||new l({provider:r,pollingInterval:e.pollingInterval||4e3,setSkipCacheFlag:!0}),this._ready=new h,this.currentBlock=null,this._providers=[]}e.exports=y,o(y,n),y.prototype.start=function(e=m){const t=this; 
t._ready.go(),t._blockTracker.on("latest",e=>{t._getBlockByNumberWithRetry(e,(e,r)=>{if(e)return void this.emit("error",e); 
if(!r)return console.log(r),void this.emit("error",new Error("Could not find block")); 
const n=(o=r,{number:c.toBuffer(o.number),hash:c.toBuffer(o.hash),parentHash:c.toBuffer(o.parentHash),nonce:c.toBuffer(o.nonce),mixHash:c.toBuffer(o.mixHash),sha3Uncles:c.toBuffer(o.sha3Uncles),logsBloom:c.toBuffer(o.logsBloom),transactionsRoot:c.toBuffer(o.transactionsRoot),stateRoot:c.toBuffer(o.stateRoot),receiptsRoot:c.toBuffer(o.receiptRoot||o.receiptsRoot),miner:c.toBuffer(o.miner),difficulty:c.toBuffer(o.difficulty),totalDifficulty:c.toBuffer(o.totalDifficulty),size:c.toBuffer(o.size),extraData:c.toBuffer(o.extraData),gasLimit:c.toBuffer(o.gasLimit),gasUsed:c.toBuffer(o.gasUsed),timestamp:c.toBuffer(o.timestamp),transactions:o.transactions}); 
var o; 
t._setCurrentBlock(n),t.emit("rawBlock",r),t.emit("latest",r)})}),t._blockTracker.on("sync",t.emit.bind(t,"sync")),t._blockTracker.on("error",t.emit.bind(t,"error")),t._running=!0,t.emit("start")},y.prototype.stop=function(){this._blockTracker.removeAllListeners(),this._running=!1,this.emit("stop")},y.prototype.isRunning=function(){return this._running},y.prototype.addProvider=function(source,e){const t=this; 
"number"==typeof e?t._providers.splice(e,0,source):t._providers.push(source),source.setEngine(this)},y.prototype.removeProvider=function(source){const e=this._providers.indexOf(source); 
if(e<0)throw new Error("Provider not found."); 
this._providers.splice(e,1)},y.prototype.send=function(e){throw new Error("Web3ProviderEngine does not support synchronous requests.")},y.prototype.sendAsync=function(e,t){const r=this; 
r._ready.await((function(){Array.isArray(e)?map(e,r._handleAsync.bind(r),t):r._handleAsync(e,t)}))},y.prototype._getBlockByNumberWithRetry=function(e,t){const r=this; 
let n=5; 
return void o(); 
function o(){r._getBlockByNumber(e,c)}function c(e,r){return e?t(e):r?void t(null,r):n>0?(n--,void setTimeout((function(){o()}),1e3)):void t(null,null)}},y.prototype._getBlockByNumber=function(e,t){const r=f({method:"eth_getBlockByNumber",params:[e,!1],skipCache:!0}); 
this._handleAsync(r,(e,r)=>e?t(e):t(null,r.result))},y.prototype._handleAsync=function(e,t){var r=this,n=-1,o=null,c=null,l=[]; 
function h(r,n){c=r,o=n,d(l,(function(e,t){e?e(c,o,t):t()}),(function(){var r={id:e.id,jsonrpc:e.jsonrpc,result:o}; 
null!=c?(r.error={message:c.stack||c.message||c,code:-32e3},t(c,r)):t(null,r)}))}!function t(o){if(n+=1,l.unshift(o),n>=r._providers.length)h(new Error('Request for method "'+e.method+'" not handled by any subprovider. Please check your subprovider configuration to ensure this method is handled.')); 
else try{r._providers[n].handleRequest(e,t,h)}catch(e){h(e)}}()},y.prototype._setCurrentBlock=function(e){this.currentBlock=e,this.emit("block",e)}},1076:function(e,t,r){const n=r(95).EventEmitter,o=r(132).inherits; 
function c(){n.call(this),this.isLocked=!0}e.exports=c,o(c,n),c.prototype.go=function(){this.isLocked=!1,this.emit("unlock")},c.prototype.stop=function(){this.isLocked=!0,this.emit("lock")},c.prototype.await=function(e){const t=this; 
t.isLocked?t.once("unlock",e):setTimeout(e)}},1080:function(e,t){e.exports=function(){return Math.floor(Number.MAX_SAFE_INTEGER*Math.random())}},1081:function(e,t,r){const n=r(341),o=r(1082); 
e.exports=class extends n{constructor(e){super(({blockTracker:t})=>o(Object.assign({blockTracker:t},e)))}}},1082:function(e,t,r){const n=r(1083),o=r(1084),c=[void 0,null,"<nil>"]; 
e.exports=function(e={}){const{blockTracker:t}=e; 
if(!t)throw new Error("createBlockCacheMiddleware - No BlockTracker specified"); 
const r=new l,c={perma:r,block:r,fork:r}; 
return o(async(e,o,l)=>{if(e.skipCache)return l(); 
const d=n.cacheTypeForPayload(e),h=c[d]; 
if(!h)return l(); 
if(!h.canCacheRequest(e))return l(); 
let f,m=n.blockTagForPayload(e); 
if(m||(m="latest"),"earliest"===m)f="0x00"; 
else if("latest"===m){const e=await t.getLatestBlock(); 
r.clearBefore(e),f=e}else f=m; 
const y=await h.get(e,f); 
void 0===y?(await l(),await h.set(e,f,o.result)):o.result=y})}; 
class l{constructor(){this.cache={}}getBlockCacheForPayload(e,t){const r=Number.parseInt(t,16); 
let n=this.cache[r]; 
if(!n){const e={}; 
this.cache[r]=e,n=e}return n}async get(e,t){const r=this.getBlockCacheForPayload(e,t); 
if(r)return r[n.cacheIdentifierForPayload(e,!0)]}async set(e,t,r){this.canCacheResult(e,r)&&(this.getBlockCacheForPayload(e,t)[n.cacheIdentifierForPayload(e,!0)]=r)}canCacheRequest(e){if(!n.canCache(e))return!1; 
return"pending"!==n.blockTagForPayload(e)}canCacheResult(e,t){if(!c.includes(t))return!!(!["eth_getTransactionByHash","eth_getTransactionReceipt"].includes(e.method)||t&&t.blockHash&&"0x0000000000000000000000000000000000000000000000000000000000000000"!==t.blockHash)}clearBefore(e){const t=this,r=Number.parseInt(e,16); 
Object.keys(t.cache).map(Number).filter(e=>e<r).forEach(e=>delete t.cache[e])}}},1083:function(e,t,r){const n=r(581); 
function o(e){return"never"!==d(e)}function c(e){const t=l(e); 
return t>=e.params.length?e.params:"eth_getBlockByNumber"===e.method?e.params.slice(1):e.params.slice(0,t)}function l(e){switch(e.method){case"eth_getStorageAt":return 2; 
case"eth_getBalance":case"eth_getCode":case"eth_getTransactionCount":case"eth_call":return 1; 
case"eth_getBlockByNumber":return 0; 
default:return}}function d(e){switch(e.method){case"web3_clientVersion":case"web3_sha3":case"eth_protocolVersion":case"eth_getBlockTransactionCountByHash":case"eth_getUncleCountByBlockHash":case"eth_getCode":case"eth_getBlockByHash":case"eth_getTransactionByHash":case"eth_getTransactionByBlockHashAndIndex":case"eth_getTransactionReceipt":case"eth_getUncleByBlockHashAndIndex":case"eth_getCompilers":case"eth_compileLLL":case"eth_compileSolidity":case"eth_compileSerpent":case"shh_version":case"test_permaCache":return"perma"; 
case"eth_getBlockByNumber":case"eth_getBlockTransactionCountByNumber":case"eth_getUncleCountByBlockNumber":case"eth_getTransactionByBlockNumberAndIndex":case"eth_getUncleByBlockNumberAndIndex":case"test_forkCache":return"fork"; 
case"eth_gasPrice":case"eth_blockNumber":case"eth_getBalance":case"eth_getStorageAt":case"eth_getTransactionCount":case"eth_call":case"eth_estimateGas":case"eth_getFilterLogs":case"eth_getLogs":case"test_blockCache":return"block"; 
case"net_version":case"net_peerCount":case"net_listening":case"eth_syncing":case"eth_sign":case"eth_coinbase":case"eth_mining":case"eth_hashrate":case"eth_accounts":case"eth_sendTransaction":case"eth_sendRawTransaction":case"eth_newFilter":case"eth_newBlockFilter":case"eth_newPendingTransactionFilter":case"eth_uninstallFilter":case"eth_getFilterChanges":case"eth_getWork":case"eth_submitWork":case"eth_submitHashrate":case"db_putString":case"db_getString":case"db_putHex":case"db_getHex":case"shh_post":case"shh_newIdentity":case"shh_hasIdentity":case"shh_newGroup":case"shh_addToGroup":case"shh_newFilter":case"shh_uninstallFilter":case"shh_getFilterChanges":case"shh_getMessages":case"test_neverCache":return"never"}}e.exports={cacheIdentifierForPayload:function(e,t){const r=t?c(e):e.params; 
return o(e)?e.method+":"+n(r):null},canCache:o,blockTagForPayload:function(e){let t=l(e); 
if(t>=e.params.length)return null; 
return e.params[t]},paramsWithoutBlockTag:c,blockTagParamIndex:l,cacheTypeForPayload:d}},1084:function(e,t){e.exports=function(e){return(t,r,n,o)=>{let c; 
const l=new Promise(e=>{c=e}); 
let d,h; 
e(t,r,async()=>{h=!0,n(e=>{d=e,c()}),await l}).then(async()=>{h?(await l,d(null)):o(null)}).catch(e=>{d?d(e):o(e)})}}},1085:function(e,t,r){const n=r(132).inherits,o=r(234); 
function c(e){e=e||{},this.staticResponses=e}e.exports=c,n(c,o),c.prototype.handleRequest=function(e,t,r){var n=this.staticResponses[e.method]; 
"function"==typeof n?n(e,t,r):void 0!==n?setTimeout(()=>r(null,n)):t()}},1086:function(e,t,r){const n=r(341),o=r(582); 
e.exports=class extends n{constructor(){super(({blockTracker:e,provider:t,engine:r})=>o({blockTracker:e,provider:t}))}}},1087:function(e,t,r){"use strict"; 
Object.defineProperty(t,"__esModule",{value:!0}),t.createIdRemapMiddleware=void 0; 
const n=r(584); 
t.createIdRemapMiddleware=function(){return(e,t,r,o)=>{const c=e.id,l=n.getUniqueId(); 
e.id=l,t.id=l,r(r=>{e.id=c,t.id=c,r()})}}},1088:function(e,t,r){"use strict"; 
Object.defineProperty(t,"__esModule",{value:!0}),t.createAsyncMiddleware=void 0,t.createAsyncMiddleware=function(e){return async(t,r,n,o)=>{let c; 
const l=new Promise(e=>{c=e}); 
let d=null,h=!1; 
const f=async()=>{h=!0,n(e=>{d=e,c()}),await l}; 
try{await e(t,r,f),h?(await l,d(null)):o(null)}catch(e){d?d(e):o(e)}}}},1089:function(e,t,r){"use strict"; 
Object.defineProperty(t,"__esModule",{value:!0}),t.createScaffoldMiddleware=void 0,t.createScaffoldMiddleware=function(e){return(t,r,n,o)=>{const c=e[t.method]; 
return void 0===c?n():"function"==typeof c?c(t,r,n,o):(r.result=c,o())}}},1090:function(e,t,r){"use strict"; 
Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0; 
const n=r(343); 
Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return n.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return n.EthereumProviderError}}); 
const o=r(586); 
Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return o.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return o.getMessageFromCode}}); 
const c=r(1092); 
Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return c.ethErrors}}); 
const l=r(344); 
Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return l.errorCodes}})},1092:function(e,t,r){"use strict"; 
Object.defineProperty(t,"__esModule",{value:!0}),t.ethErrors=void 0; 
const n=r(343),o=r(586),c=r(344); 
function l(code,e){const[t,data]=h(e); 
return new n.EthereumRpcError(code,t||o.getMessageFromCode(code),data)}function d(code,e){const[t,data]=h(e); 
return new n.EthereumProviderError(code,t||o.getMessageFromCode(code),data)}function h(e){if(e){if("string"==typeof e)return[e]; 
if("object"==typeof e&&!Array.isArray(e)){const{message:t,data:data}=e; 
if(t&&"string"!=typeof t)throw new Error("Must specify string message."); 
return[t||void 0,data]}}return[]}t.ethErrors={rpc:{parse:e=>l(c.errorCodes.rpc.parse,e),invalidRequest:e=>l(c.errorCodes.rpc.invalidRequest,e),invalidParams:e=>l(c.errorCodes.rpc.invalidParams,e),methodNotFound:e=>l(c.errorCodes.rpc.methodNotFound,e),internal:e=>l(c.errorCodes.rpc.internal,e),server:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument."); 
const{code:code}=e; 
if(!Number.isInteger(code)||code>-32005||code<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005'); 
return l(code,e)},invalidInput:e=>l(c.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>l(c.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>l(c.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>l(c.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>l(c.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>l(c.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>d(c.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>d(c.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>d(c.errorCodes.provider.unsupportedMethod,e),disconnected:e=>d(c.errorCodes.provider.disconnected,e),chainDisconnected:e=>d(c.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument."); 
const{code:code,message:t,data:data}=e; 
if(!t||"string"!=typeof t)throw new Error('"message" must be a nonempty string'); 
return new n.EthereumProviderError(code,t,data)}}}},1093:function(e,t,r){"use strict"; 
Object.defineProperty(t,"__esModule",{value:!0}),t.mergeMiddleware=void 0; 
const n=r(585); 
t.mergeMiddleware=function(e){const t=new n.JsonRpcEngine; 
return e.forEach(e=>t.push(e)),t.asMiddleware()}},1094:function(e,t){e.exports=function(e){return(t,r,n,o)=>{const c=e[t.method]; 
return void 0===c?n():"function"==typeof c?c(t,r,n,o):(r.result=c,o())}}},1095:function(e,t,r){const n=r(574),o=r(1096),c=r(1097),{bnToHex:l,hexToInt:d,incrementHexInt:h,minBlockRef:f,blockRefIsNumber:m}=r(193); 
e.exports=class extends c{constructor({provider:e,params:t}){super(),this.type="log",this.ethQuery=new n(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},t),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(address=>address.toLowerCase()))}async initialize({currentBlock:e}){let t=this.params.fromBlock; 
["latest","pending"].includes(t)&&(t=e),"earliest"===t&&(t="0x0"),this.params.fromBlock=t; 
const r=f(this.params.toBlock,e),n=Object.assign({},this.params,{toBlock:r}),o=await this._fetchLogs(n); 
this.addInitialResults(o)}async update({oldBlock:e,newBlock:t}){const r=t; 
let n; 
n=e?h(e):t; 
const o=Object.assign({},this.params,{fromBlock:n,toBlock:r}),c=(await this._fetchLogs(o)).filter(e=>this.matchLog(e)); 
this.addResults(c)}async _fetchLogs(e){return await o(t=>this.ethQuery.getLogs(e,t))()}matchLog(e){if(d(this.params.fromBlock)>=d(e.blockNumber))return!1; 
if(m(this.params.toBlock)&&d(this.params.toBlock)<=d(e.blockNumber))return!1; 
const t=e.address&&e.address.toLowerCase(); 
return!(this.params.address&&t&&!this.params.address.includes(t))&&this.params.topics.every((t,r)=>{let n=e.topics[r]; 
if(!n)return!1; 
n=n.toLowerCase(); 
let o=Array.isArray(t)?t:[t]; 
return!!o.includes(null)||(o=o.map(e=>e.toLowerCase()),o.includes(n))})}}},1096:function(e,t,r){"use strict"; 
const n=(e,t,r,n)=>function(...o){return new(0,t.promiseModule)((c,l)=>{t.multiArgs?o.push((...e)=>{t.errorFirst?e[0]?l(e):(e.shift(),c(e)):c(e)}):t.errorFirst?o.push((e,t)=>{e?l(e):c(t)}):o.push(c); 
const d=this===r?n:this; 
Reflect.apply(e,d,o)})},o=new WeakMap; 
e.exports=(input,e)=>{e={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...e}; 
const t=typeof input; 
if(null===input||"object"!==t&&"function"!==t)throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${null===input?"null":t}\``); 
const r=new WeakMap,c=new Proxy(input,{apply(t,o,l){const d=r.get(t); 
if(d)return Reflect.apply(d,o,l); 
const h=e.excludeMain?t:n(t,e,c,t); 
return r.set(t,h),Reflect.apply(h,o,l)},get(t,l){const d=t[l]; 
if(!((t,r)=>{let n=o.get(t); 
if(n||(n={},o.set(t,n)),r in n)return n[r]; 
const c=pattern=>"string"==typeof pattern||"symbol"==typeof r?r===pattern:pattern.test(r),desc=Reflect.getOwnPropertyDescriptor(t,r),l=void 0===desc||desc.writable||desc.configurable,d=(e.include?e.include.some(c):!e.exclude.some(c))&&l; 
return n[r]=d,d})(t,l)||d===Function.prototype[l])return d; 
const h=r.get(d); 
if(h)return h; 
if("function"==typeof d){const o=n(d,e,c,t); 
return r.set(d,o),o}return d}}); 
return c}},1097:function(e,t,r){const n=r(345); 
e.exports=class extends n{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}}},1098:function(e,t,r){const n=r(345),o=r(346),{incrementHexInt:c}=r(193); 
e.exports=class extends n{constructor({provider:e,params:t}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:t}){const r=t,n=c(e),l=(await o({provider:this.provider,fromBlock:n,toBlock:r})).map(e=>e.hash); 
this.addResults(l)}}},1099:function(e,t,r){const n=r(345),o=r(346),{incrementHexInt:c}=r(193); 
e.exports=class extends n{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const t=e,r=c(e),n=await o({provider:this.provider,fromBlock:r,toBlock:t}),l=[]; 
for(const e of n)l.push(...e.transactions); 
this.addResults(l)}}},1100:function(e,t,r){const n=r(1101),o=r(1103),c=r(132).inherits,l=r(190),d=r(1105),h=r(181),f=r(1109),m=r(234),y=r(1110),v=/^[0-9A-Fa-f]+$/g; 
function _(e){this.nonceLock=f(1),e.getAccounts&&(this.getAccounts=e.getAccounts),e.processTransaction&&(this.processTransaction=e.processTransaction),e.processMessage&&(this.processMessage=e.processMessage),e.processPersonalMessage&&(this.processPersonalMessage=e.processPersonalMessage),e.processTypedMessage&&(this.processTypedMessage=e.processTypedMessage),this.approveTransaction=e.approveTransaction||this.autoApprove,this.approveMessage=e.approveMessage||this.autoApprove,this.approvePersonalMessage=e.approvePersonalMessage||this.autoApprove,this.approveDecryptMessage=e.approveDecryptMessage||this.autoApprove,this.approveEncryptionPublicKey=e.approveEncryptionPublicKey||this.autoApprove,this.approveTypedMessage=e.approveTypedMessage||this.autoApprove,e.signTransaction&&(this.signTransaction=e.signTransaction||R("signTransaction")),e.signMessage&&(this.signMessage=e.signMessage||R("signMessage")),e.signPersonalMessage&&(this.signPersonalMessage=e.signPersonalMessage||R("signPersonalMessage")),e.decryptMessage&&(this.decryptMessage=e.decryptMessage||R("decryptMessage")),e.encryptionPublicKey&&(this.encryptionPublicKey=e.encryptionPublicKey||R("encryptionPublicKey")),e.signTypedMessage&&(this.signTypedMessage=e.signTypedMessage||R("signTypedMessage")),e.recoverPersonalSignature&&(this.recoverPersonalSignature=e.recoverPersonalSignature),e.publishTransaction&&(this.publishTransaction=e.publishTransaction),this.estimateGas=e.estimateGas||this.estimateGas,this.getGasPrice=e.getGasPrice||this.getGasPrice}function w(e){return e.toLowerCase()}function k(e){const t=l.addHexPrefix(e); 
return l.isValidAddress(t)}function C(e){const t=l.addHexPrefix(e); 
return!l.isValidAddress(t)&&E(e)}function E(data){return"string"==typeof data&&("0x"===data.slice(0,2)&&data.slice(2).match(v))}function R(e){return function(t,r){r(new Error('ProviderEngine - HookedWalletSubprovider - Must provide "'+e+'" fn in constructor options'))}}e.exports=_,c(_,m),_.prototype.handleRequest=function(e,t,r){const o=this; 
let c,l,d,f,address; 
switch(o._parityRequests={},o._parityRequestCount=0,e.method){case"eth_coinbase":return void o.getAccounts((function(e,t){if(e)return r(e); 
let n=t[0]||null; 
r(null,n)})); 
case"eth_accounts":return void o.getAccounts((function(e,t){if(e)return r(e); 
r(null,t)})); 
case"eth_sendTransaction":return c=e.params[0],void n([e=>o.validateTransaction(c,e),e=>o.processTransaction(c,e)],r); 
case"eth_signTransaction":return c=e.params[0],void n([e=>o.validateTransaction(c,e),e=>o.processSignTransaction(c,e)],r); 
case"eth_sign":return address=e.params[0],f=e.params[1],d=e.params[2]||{},l=h(d,{from:address,data:f}),void n([e=>o.validateMessage(l,e),e=>o.processMessage(l,e)],r); 
case"personal_sign":return function(){const t=e.params[0]; 
if(C(e.params[1])&&k(t)){let t="The eth_personalSign method requires params ordered "; 
t+="[message, address]. This was previously handled incorrectly, ",t+="and has been corrected automatically. ",t+="Please switch this param order for smooth behavior in the future.",console.warn(t),address=e.params[0],f=e.params[1]}else f=e.params[0],address=e.params[1]; 
d=e.params[2]||{},l=h(d,{from:address,data:f}),n([e=>o.validatePersonalMessage(l,e),e=>o.processPersonalMessage(l,e)],r)}(); 
case"eth_decryptMessage":return function(){const t=e.params[0]; 
if(C(e.params[1])&&k(t)){let t="The eth_decryptMessage method requires params ordered "; 
t+="[message, address]. This was previously handled incorrectly, ",t+="and has been corrected automatically. ",t+="Please switch this param order for smooth behavior in the future.",console.warn(t),address=e.params[0],f=e.params[1]}else f=e.params[0],address=e.params[1]; 
d=e.params[2]||{},l=h(d,{from:address,data:f}),n([e=>o.validateDecryptMessage(l,e),e=>o.processDecryptMessage(l,e)],r)}(); 
case"encryption_public_key":return function(){const address=e.params[0]; 
n([e=>o.validateEncryptionPublicKey(address,e),e=>o.processEncryptionPublicKey(address,e)],r)}(); 
case"personal_ecRecover":return function(){f=e.params[0]; 
let t=e.params[1]; 
d=e.params[2]||{},l=h(d,{sig:t,data:f}),o.recoverPersonalSignature(l,r)}(); 
case"eth_signTypedData":case"eth_signTypedData_v3":case"eth_signTypedData_v4":return function(){const t=e.params[0],c=e.params[1]; 
k(t)?(address=t,f=c):(f=t,address=c),d=e.params[2]||{},l=h(d,{from:address,data:f}),n([e=>o.validateTypedMessage(l,e),e=>o.processTypedMessage(l,e)],r)}(); 
case"parity_postTransaction":return c=e.params[0],void o.parityPostTransaction(c,r); 
case"parity_postSign":return address=e.params[0],f=e.params[1],void o.parityPostSign(address,f,r); 
case"parity_checkRequest":return function(){const t=e.params[0]; 
o.parityCheckRequest(t,r)}(); 
case"parity_defaultAccount":return void o.getAccounts((function(e,t){if(e)return r(e); 
const n=t[0]||null; 
r(null,n)})); 
default:return void t()}},_.prototype.getAccounts=function(e){e(null,[])},_.prototype.processTransaction=function(e,t){const r=this; 
n([t=>r.approveTransaction(e,t),(e,t)=>r.checkApproval("transaction",e,t),t=>r.finalizeAndSubmitTx(e,t)],t)},_.prototype.processSignTransaction=function(e,t){const r=this; 
n([t=>r.approveTransaction(e,t),(e,t)=>r.checkApproval("transaction",e,t),t=>r.finalizeTx(e,t)],t)},_.prototype.processMessage=function(e,t){const r=this; 
n([t=>r.approveMessage(e,t),(e,t)=>r.checkApproval("message",e,t),t=>r.signMessage(e,t)],t)},_.prototype.processPersonalMessage=function(e,t){const r=this; 
n([t=>r.approvePersonalMessage(e,t),(e,t)=>r.checkApproval("message",e,t),t=>r.signPersonalMessage(e,t)],t)},_.prototype.processDecryptMessage=function(e,t){const r=this; 
n([t=>r.approveDecryptMessage(e,t),(e,t)=>r.checkApproval("decryptMessage",e,t),t=>r.decryptMessage(e,t)],t)},_.prototype.processEncryptionPublicKey=function(e,t){const r=this; 
n([t=>r.approveEncryptionPublicKey(e,t),(e,t)=>r.checkApproval("encryptionPublicKey",e,t),t=>r.encryptionPublicKey(e,t)],t)},_.prototype.processTypedMessage=function(e,t){const r=this; 
n([t=>r.approveTypedMessage(e,t),(e,t)=>r.checkApproval("message",e,t),t=>r.signTypedMessage(e,t)],t)},_.prototype.autoApprove=function(e,t){t(null,!0)},_.prototype.checkApproval=function(e,t,r){r(t?null:new Error("User denied "+e+" signature."))},_.prototype.parityPostTransaction=function(e,t){const r=this,n=`0x${r._parityRequestCount.toString(16)}`; 
r._parityRequestCount++,r.emitPayload({method:"eth_sendTransaction",params:[e]},(function(e,t){if(e)return void(r._parityRequests[n]={error:e}); 
const o=t.result; 
r._parityRequests[n]=o})),t(null,n)},_.prototype.parityPostSign=function(address,e,t){const r=this,n=`0x${r._parityRequestCount.toString(16)}`; 
r._parityRequestCount++,r.emitPayload({method:"eth_sign",params:[address,e]},(function(e,t){if(e)return void(r._parityRequests[n]={error:e}); 
const o=t.result; 
r._parityRequests[n]=o})),t(null,n)},_.prototype.parityCheckRequest=function(e,t){const r=this._parityRequests[e]||null; 
return r?r.error?t(r.error):void t(null,r):t(null,null)},_.prototype.recoverPersonalSignature=function(e,t){let r; 
try{r=d.recoverPersonalSignature(e)}catch(e){return t(e)}t(null,r)},_.prototype.validateTransaction=function(e,t){if(void 0===e.from)return t(new Error("Undefined address - from address required to sign transaction.")); 
this.validateSender(e.from,(function(r,n){return r?t(r):n?void t():t(new Error(`Unknown address - unable to sign transaction for this address: "${e.from}"`))}))},_.prototype.validateMessage=function(e,t){if(void 0===e.from)return t(new Error("Undefined address - from address required to sign message.")); 
this.validateSender(e.from,(function(r,n){return r?t(r):n?void t():t(new Error(`Unknown address - unable to sign message for this address: "${e.from}"`))}))},_.prototype.validatePersonalMessage=function(e,t){return void 0===e.from?t(new Error("Undefined address - from address required to sign personal message.")):void 0===e.data?t(new Error("Undefined message - message required to sign personal message.")):E(e.data)?void this.validateSender(e.from,(function(r,n){return r?t(r):n?void t():t(new Error(`Unknown address - unable to sign message for this address: "${e.from}"`))})):t(new Error("HookedWalletSubprovider - validateMessage - message was not encoded as hex."))},_.prototype.validateDecryptMessage=function(e,t){return void 0===e.from?t(new Error("Undefined address - from address required to decrypt message.")):void 0===e.data?t(new Error("Undefined message - message required to decrypt message.")):E(e.data)?void this.validateSender(e.from,(function(r,n){return r?t(r):n?void t():t(new Error(`Unknown address - unable to decrypt message for this address: "${e.from}"`))})):t(new Error("HookedWalletSubprovider - validateDecryptMessage - message was not encoded as hex."))},_.prototype.validateEncryptionPublicKey=function(address,e){this.validateSender(address,(function(t,r){return t?e(t):r?void e():e(new Error(`Unknown address - unable to obtain encryption public key for this address: "${address}"`))}))},_.prototype.validateTypedMessage=function(e,t){return void 0===e.from?t(new Error("Undefined address - from address required to sign typed data.")):void 0===e.data?t(new Error("Undefined data - message required to sign typed data.")):void this.validateSender(e.from,(function(r,n){return r?t(r):n?void t():t(new Error(`Unknown address - unable to sign message for this address: "${e.from}"`))}))},_.prototype.validateSender=function(e,t){if(!e)return t(null,!1); 
this.getAccounts((function(r,n){if(r)return t(r); 
const o=-1!==n.map(w).indexOf(e.toLowerCase()); 
t(null,o)}))},_.prototype.finalizeAndSubmitTx=function(e,t){const r=this; 
r.nonceLock.take((function(){n([r.fillInTxExtras.bind(r,e),r.signTransaction.bind(r),r.publishTransaction.bind(r)],(function(e,n){if(r.nonceLock.leave(),e)return t(e); 
t(null,n)}))}))},_.prototype.finalizeTx=function(e,t){const r=this; 
r.nonceLock.take((function(){n([r.fillInTxExtras.bind(r,e),r.signTransaction.bind(r)],(function(n,o){if(r.nonceLock.leave(),n)return t(n); 
t(null,{raw:o,tx:e})}))}))},_.prototype.publishTransaction=function(e,t){this.emitPayload({method:"eth_sendRawTransaction",params:[e]},(function(e,r){if(e)return t(e); 
t(null,r.result)}))},_.prototype.estimateGas=function(e,t){y(this.engine,e,t)},_.prototype.getGasPrice=function(e){this.emitPayload({method:"eth_gasPrice",params:[]},(function(t,r){if(t)return e(t); 
e(null,r.result)}))},_.prototype.fillInTxExtras=function(e,t){const r=this,address=e.from,n={}; 
void 0===e.gasPrice&&(n.gasPrice=r.getGasPrice.bind(r)),void 0===e.nonce&&(n.nonce=r.emitPayload.bind(r,{method:"eth_getTransactionCount",params:[address,"pending"]})),void 0===e.gas&&(n.gas=r.estimateGas.bind(r,function(e){return{from:e.from,to:e.to,value:e.value,data:e.data,gas:e.gas,gasPrice:e.gasPrice,nonce:e.nonce}}(e))),o(n,(function(r,n){if(r)return t(r); 
const o={}; 
n.gasPrice&&(o.gasPrice=n.gasPrice),n.nonce&&(o.nonce=n.nonce.result),n.gas&&(o.gas=n.gas),t(null,h(e,o))}))}},1110:function(e,t,r){const n=r(340); 
e.exports=function(e,t,r){e.sendAsync(n({method:"eth_estimateGas",params:[t]}),(function(e,t){if(e)return"no contract code at given address"===e.message?r(null,"0xcf08"):r(e); 
r(null,t.result)}))}},1111:function(e,t,r){(function(t){const n=r(132).inherits,o=r(437),c=r(190),l=r(234),d=r(580).blockTagForPayload; 
function h(e){this.nonceCache={}}e.exports=h,n(h,l),h.prototype.handleRequest=function(e,r,n){const l=this; 
switch(e.method){case"eth_getTransactionCount":var h=d(e),address=e.params[0].toLowerCase(),f=l.nonceCache[address]; 
return void("pending"===h?f?n(null,f):r((function(e,t,r){if(e)return r(); 
void 0===l.nonceCache[address]&&(l.nonceCache[address]=t),r()})):r()); 
case"eth_sendRawTransaction":return void r((function(r,n,d){if(r)return d(); 
var h=e.params[0],f=(c.stripHexPrefix(h),t.from(c.stripHexPrefix(h),"hex"),new o(t.from(c.stripHexPrefix(h),"hex"))),address="0x"+f.getSenderAddress().toString("hex").toLowerCase(),m=c.bufferToInt(f.nonce),y=(++m).toString(16); 
y.length%2&&(y="0"+y),y="0x"+y,l.nonceCache[address]=y,d()})); 
case"evm_revert":return l.nonceCache={},void r(); 
default:return void r()}}}).call(this,r(11).Buffer)},1112:function(e,t,r){const n=r(341),o=r(1113); 
e.exports=class extends n{constructor(){super(({blockTracker:e,provider:t,engine:r})=>{const{events:n,middleware:c}=o({blockTracker:e,provider:t}); 
return n.on("notification",data=>r.emit("data",null,data)),c})}}},1113:function(e,t,r){const n=r(342).default,o=r(587),{createAsyncMiddleware:c}=r(583),l=r(582),{unsafeRandomBytes:d,incrementHexInt:h}=r(193),f=r(346); 
function m(e){return{hash:e.hash,parentHash:e.parentHash,sha3Uncles:e.sha3Uncles,miner:e.miner,stateRoot:e.stateRoot,transactionsRoot:e.transactionsRoot,receiptsRoot:e.receiptsRoot,logsBloom:e.logsBloom,difficulty:e.difficulty,number:e.number,gasLimit:e.gasLimit,gasUsed:e.gasUsed,nonce:e.nonce,mixHash:e.mixHash,timestamp:e.timestamp,extraData:e.extraData}}e.exports=function({blockTracker:e,provider:t}){const r={},y=l({blockTracker:e,provider:t}); 
let v=!1; 
const _=new n,w=o({eth_subscribe:c((async function(n,o){if(v)throw new Error("SubscriptionManager - attempting to use after destroying"); 
const c=n.params[0],l=d(16); 
let sub; 
switch(c){case"newHeads":sub=function({subId:r}){const sub={type:c,destroy:async()=>{e.removeListener("sync",sub.update)},update:async({oldBlock:e,newBlock:n})=>{const o=n,c=h(e); 
(await f({provider:t,fromBlock:c,toBlock:o})).map(m).forEach(e=>{k(r,e)})}}; 
return e.on("sync",sub.update),sub}({subId:l}); 
break; 
case"logs":const r=n.params[1],filter=await y.newLogFilter(r); 
sub=function({subId:e,filter:filter}){return filter.on("update",t=>k(e,t)),{type:c,destroy:async()=>await y.uninstallFilter(filter.idHex)}}({subId:l,filter:filter}); 
break; 
default:throw new Error(`SubscriptionManager - unsupported subscription type "${c}"`)}return r[l]=sub,void(o.result=l)})),eth_unsubscribe:c((async function(e,t){if(v)throw new Error("SubscriptionManager - attempting to use after destroying"); 
const n=e.params[0],o=r[n]; 
if(!o)return void(t.result=!1); 
delete r[n],await o.destroy(),t.result=!0}))}); 
return w.destroy=function(){_.removeAllListeners(); 
for(const e in r)r[e].destroy(),delete r[e]; 
v=!0},{events:_,middleware:w}; 
function k(e,t){_.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:e,result:t}})}}},193:function(e,t){function r(e){return e.sort((e,t)=>"latest"===e||"earliest"===t?1:"latest"===t||"earliest"===e?-1:n(e)-n(t))}function n(e){return null==e?e:Number.parseInt(e,16)}function o(e){if(null==e)return e; 
let t=e.toString(16); 
return t.length%2&&(t="0"+t),"0x"+t}function c(){return Math.floor(16*Math.random()).toString(16)}e.exports={minBlockRef:function(...e){return r(e)[0]},maxBlockRef:function(...e){const t=r(e); 
return t[t.length-1]},sortBlockRefs:r,bnToHex:function(e){return"0x"+e.toString(16)},blockRefIsNumber:function(e){return e&&!["earliest","latest","pending"].includes(e)},hexToInt:n,incrementHexInt:function(e){if(null==e)return e; 
return o(n(e)+1)},intToHex:o,unsafeRandomBytes:function(e){let t="0x"; 
for(let i=0; 
i<e; 
i++)t+=c(),t+=c(); 
return t}}},234:function(e,t,r){const n=r(340); 
function o(){}e.exports=o,o.prototype.setEngine=function(e){const t=this; 
t.engine||(t.engine=e,e.on("block",(function(e){t.currentBlock=e})),e.on("start",(function(){t.start()})),e.on("stop",(function(){t.stop()})))},o.prototype.handleRequest=function(e,t,r){throw new Error("Subproviders should override `handleRequest`.")},o.prototype.emitPayload=function(e,t){this.engine.sendAsync(n(e),t)},o.prototype.stop=function(){},o.prototype.start=function(){}},340:function(e,t,r){const n=r(1080),o=r(181); 
e.exports=function(data){return o({id:n(),jsonrpc:"2.0",params:[]},data)}},341:function(e,t,r){const n=r(234); 
e.exports=class extends n{constructor(e){if(super(),!e)throw new Error("JsonRpcEngineMiddlewareSubprovider - no constructorFn specified"); 
this._constructorFn=e}setEngine(e){if(this.middleware)throw new Error("JsonRpcEngineMiddlewareSubprovider - subprovider added to engine twice"); 
const t=e._blockTracker,r=this._constructorFn({engine:e,provider:e,blockTracker:t}); 
if(!r)throw new Error("JsonRpcEngineMiddlewareSubprovider - _constructorFn did not return middleware"); 
if("function"!=typeof r)throw new Error("JsonRpcEngineMiddlewareSubprovider - specified middleware is not a function"); 
this.middleware=r}handleRequest(e,t,r){const n={id:e.id}; 
this.middleware(e,n,(function(e){t((t,r,o)=>{t?(delete n.result,n.error={message:t.message||t}):n.result=r,e?e(o):o()})}),(function(e){if(e)return r(e); 
r(null,n.result)}))}}},343:function(e,t,r){"use strict"; 
Object.defineProperty(t,"__esModule",{value:!0}),t.EthereumProviderError=t.EthereumRpcError=void 0; 
const n=r(1091); 
class o extends Error{constructor(code,e,data){if(!Number.isInteger(code))throw new Error('"code" must be an integer.'); 
if(!e||"string"!=typeof e)throw new Error('"message" must be a nonempty string.'); 
super(e),this.code=code,void 0!==data&&(this.data=data)}serialize(){const e={code:this.code,message:this.message}; 
return void 0!==this.data&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return n.default(this.serialize(),c,2)}}t.EthereumRpcError=o; 
function c(e,t){if("[Circular]"!==t)return t}t.EthereumProviderError=class extends o{constructor(code,e,data){if(!function(code){return Number.isInteger(code)&&code>=1e3&&code<=4999}(code))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999'); 
super(code,e,data)}}},344:function(e,t,r){"use strict"; 
Object.defineProperty(t,"__esModule",{value:!0}),t.errorValues=t.errorCodes=void 0,t.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},t.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}},345:function(e,t,r){const n=r(342).default; 
e.exports=class extends n{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(e=>this.emit("update",e))}addInitialResults(e){}getChangesAndClear(){const e=this.updates; 
return this.updates=[],e}}},346:function(e,t){function r(e){return null==e?e:Number.parseInt(e,16)}function n(e){if(null==e)return e; 
return"0x"+e.toString(16)}e.exports=async function({provider:e,fromBlock:t,toBlock:o}){t||(t=o); 
const c=r(t),l=r(o),d=Array(l-c+1).fill().map((e,t)=>c+t).map(n); 
return await Promise.all(d.map(t=>function(e,t,r){return new Promise((n,o)=>{e.sendAsync({id:1,jsonrpc:"2.0",method:t,params:r},(e,t)=>{if(e)return o(e); 
n(t.result)})})}(e,"eth_getBlockByNumber",[t,!1])))}},580:function(e,t,r){const n=r(581); 
function o(e){return"never"!==d(e)}function c(e){var t=l(e); 
return t>=e.params.length?e.params:"eth_getBlockByNumber"===e.method?e.params.slice(1):e.params.slice(0,t)}function l(e){switch(e.method){case"eth_getStorageAt":return 2; 
case"eth_getBalance":case"eth_getCode":case"eth_getTransactionCount":case"eth_call":case"eth_estimateGas":return 1; 
case"eth_getBlockByNumber":return 0; 
default:return}}function d(e){switch(e.method){case"web3_clientVersion":case"web3_sha3":case"eth_protocolVersion":case"eth_getBlockTransactionCountByHash":case"eth_getUncleCountByBlockHash":case"eth_getCode":case"eth_getBlockByHash":case"eth_getTransactionByHash":case"eth_getTransactionByBlockHashAndIndex":case"eth_getTransactionReceipt":case"eth_getUncleByBlockHashAndIndex":case"eth_getCompilers":case"eth_compileLLL":case"eth_compileSolidity":case"eth_compileSerpent":case"shh_version":return"perma"; 
case"eth_getBlockByNumber":case"eth_getBlockTransactionCountByNumber":case"eth_getUncleCountByBlockNumber":case"eth_getTransactionByBlockNumberAndIndex":case"eth_getUncleByBlockNumberAndIndex":return"fork"; 
case"eth_gasPrice":case"eth_getBalance":case"eth_getStorageAt":case"eth_getTransactionCount":case"eth_call":case"eth_estimateGas":case"eth_getFilterLogs":case"eth_getLogs":case"eth_blockNumber":return"block"; 
case"net_version":case"net_peerCount":case"net_listening":case"eth_syncing":case"eth_sign":case"eth_coinbase":case"eth_mining":case"eth_hashrate":case"eth_accounts":case"eth_sendTransaction":case"eth_sendRawTransaction":case"eth_newFilter":case"eth_newBlockFilter":case"eth_newPendingTransactionFilter":case"eth_uninstallFilter":case"eth_getFilterChanges":case"eth_getWork":case"eth_submitWork":case"eth_submitHashrate":case"db_putString":case"db_getString":case"db_putHex":case"db_getHex":case"shh_post":case"shh_newIdentity":case"shh_hasIdentity":case"shh_newGroup":case"shh_addToGroup":case"shh_newFilter":case"shh_uninstallFilter":case"shh_getFilterChanges":case"shh_getMessages":return"never"}}e.exports={cacheIdentifierForPayload:function(e,t={}){if(!o(e))return null; 
const{includeBlockRef:r}=t,l=r?e.params:c(e); 
return e.method+":"+n(l)},canCache:o,blockTagForPayload:function(e){var t=l(e); 
if(t>=e.params.length)return null; 
return e.params[t]},paramsWithoutBlockTag:c,blockTagParamIndex:l,cacheTypeForPayload:d}},582:function(e,t,r){const n=r(1143).Mutex,{createAsyncMiddleware:o}=r(583),c=r(587),l=r(1095),d=r(1098),h=r(1099),{intToHex:f,hexToInt:m}=r(193); 
function y(e){return v(async(...t)=>{const filter=await e(...t); 
return f(filter.id)})}function v(e){return o(async(t,r)=>{const n=await e.apply(null,t.params); 
r.result=n})}function _(e,t){const r=[]; 
for(let t in e)r.push(e[t]); 
return r}e.exports=function({blockTracker:e,provider:t}){let r=0,o={}; 
const w=new n,k=function({mutex:e}){return t=>async(r,n,o,c)=>{(await e.acquire())(),t(r,n,o,c)}}({mutex:w}),C=c({eth_newFilter:k(y(R)),eth_newBlockFilter:k(y(T)),eth_newPendingTransactionFilter:k(y(P)),eth_uninstallFilter:k(v(M)),eth_getFilterChanges:k(v(B)),eth_getFilterLogs:k(v(x))}),E=async({oldBlock:e,newBlock:t})=>{if(0===o.length)return; 
const r=await w.acquire(); 
try{await Promise.all(_(o).map(async filter=>{try{await filter.update({oldBlock:e,newBlock:t})}catch(e){console.error(e)}}))}catch(e){console.error(e)}r()}; 
return C.newLogFilter=R,C.newBlockFilter=T,C.newPendingTransactionFilter=P,C.uninstallFilter=M,C.getFilterChanges=B,C.getFilterLogs=x,C.destroy=()=>{!async function(){const e=_(o).length; 
o={},S({prevFilterCount:e,newFilterCount:0})}()},C; 
async function R(e){const filter=new l({provider:t,params:e}); 
await A(filter); 
return filter}async function T(){const filter=new d({provider:t}); 
await A(filter); 
return filter}async function P(){const filter=new h({provider:t}); 
await A(filter); 
return filter}async function B(e){const t=m(e),filter=o[t]; 
if(!filter)throw new Error(`No filter for index "${t}"`); 
return filter.getChangesAndClear()}async function x(e){const t=m(e),filter=o[t]; 
if(!filter)throw new Error(`No filter for index "${t}"`); 
return"log"===filter.type?results=filter.getAllResults():results=[],results}async function M(e){const t=m(e),filter=o[t],r=Boolean(filter); 
return r&&await async function(e){const t=_(o).length; 
delete o[e]; 
const r=_(o).length; 
S({prevFilterCount:t,newFilterCount:r})}(t),r}async function A(filter){const t=_(o).length,n=await e.getLatestBlock(); 
return await filter.initialize({currentBlock:n}),r++,o[r]=filter,filter.id=r,filter.idHex=f(r),S({prevFilterCount:t,newFilterCount:_(o).length}),r}function S({prevFilterCount:t,newFilterCount:r}){0===t&&r>0?e.on("sync",E):t>0&&0===r&&e.removeListener("sync",E)}}},583:function(e,t,r){"use strict"; 
var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var p in e)"default"===p||Object.prototype.hasOwnProperty.call(t,p)||n(t,e,p)}; 
Object.defineProperty(t,"__esModule",{value:!0}),o(r(1087),t),o(r(1088),t),o(r(1089),t),o(r(584),t),o(r(585),t),o(r(1093),t)},584:function(e,t,r){"use strict"; 
Object.defineProperty(t,"__esModule",{value:!0}),t.getUniqueId=void 0; 
let n=Math.floor(4294967295*Math.random()); 
t.getUniqueId=function(){return n=(n+1)%4294967295,n}},585:function(e,t,r){"use strict"; 
var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}}; 
Object.defineProperty(t,"__esModule",{value:!0}),t.JsonRpcEngine=void 0; 
const o=n(r(342)),c=r(1090); 
class l extends o.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,t){if(t&&"function"!=typeof t)throw new Error('"callback" must be a function if provided.'); 
return Array.isArray(e)?t?this._handleBatch(e,t):this._handleBatch(e):t?this._handle(e,t):this._promiseHandle(e)}asMiddleware(){return async(e,t,r,n)=>{try{const[o,c,d]=await l._runAllMiddleware(e,t,this._middleware); 
return c?(await l._runReturnHandlers(d),n(o)):r(async e=>{try{await l._runReturnHandlers(d)}catch(t){return e(t)}return e()})}catch(e){return n(e)}}}async _handleBatch(e,t){try{const r=await Promise.all(e.map(this._promiseHandle.bind(this))); 
return t?t(null,r):r}catch(e){if(t)return t(e); 
throw e}}_promiseHandle(e){return new Promise(t=>{this._handle(e,(e,r)=>{t(r)})})}async _handle(e,t){if(!e||Array.isArray(e)||"object"!=typeof e){const r=new c.EthereumRpcError(c.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof e}`,{request:e}); 
return t(r,{id:void 0,jsonrpc:"2.0",error:r})}if("string"!=typeof e.method){const r=new c.EthereumRpcError(c.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof e.method}`,{request:e}); 
return t(r,{id:e.id,jsonrpc:"2.0",error:r})}const r=Object.assign({},e),n={id:r.id,jsonrpc:r.jsonrpc}; 
let o=null; 
try{await this._processRequest(r,n)}catch(e){o=e}return o&&(delete n.result,n.error||(n.error=c.serializeError(o))),t(o,n)}async _processRequest(e,t){const[r,n,o]=await l._runAllMiddleware(e,t,this._middleware); 
if(l._checkForCompletion(e,t,n),await l._runReturnHandlers(o),r)throw r}static async _runAllMiddleware(e,t,r){const n=[]; 
let o=null,c=!1; 
for(const d of r)if([o,c]=await l._runMiddleware(e,t,d,n),c)break; 
return[o,c,n.reverse()]}static _runMiddleware(e,t,r,n){return new Promise(o=>{const l=e=>{const r=e||t.error; 
r&&(t.error=c.serializeError(r)),o([r,!0])},h=r=>{t.error?l(t.error):(r&&("function"!=typeof r&&l(new c.EthereumRpcError(c.errorCodes.rpc.internal,'JsonRpcEngine: "next" return handlers must be functions. '+`Received "${typeof r}" for request:\n${d(e)}`,{request:e})),n.push(r)),o([null,!1]))}; 
try{r(e,t,h,l)}catch(e){l(e)}})}static async _runReturnHandlers(e){for(const t of e)await new Promise((e,r)=>{t(t=>t?r(t):e())})}static _checkForCompletion(e,t,r){if(!("result"in t||"error"in t))throw new c.EthereumRpcError(c.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:\n${d(e)}`,{request:e}); 
if(!r)throw new c.EthereumRpcError(c.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:\n${d(e)}`,{request:e})}}function d(e){return JSON.stringify(e,null,2)}t.JsonRpcEngine=l},586:function(e,t,r){"use strict"; 
Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0; 
const n=r(344),o=r(343),c=n.errorCodes.rpc.internal,l={code:c,message:d(c)}; 
function d(code,e="Unspecified error message. This is a bug, please report it."){if(Number.isInteger(code)){const e=code.toString(); 
if(y(n.errorValues,e))return n.errorValues[e].message; 
if(f(code))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return e}function h(code){if(!Number.isInteger(code))return!1; 
const e=code.toString(); 
return!!n.errorValues[e]||!!f(code)}function f(code){return code>=-32099&&code<=-32e3}function m(e){return e&&"object"==typeof e&&!Array.isArray(e)?Object.assign({},e):e}function y(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",t.getMessageFromCode=d,t.isValidCode=h,t.serializeError=function(e,{fallbackError:t=l,shouldIncludeStack:r=!1}={}){var n,c; 
if(!t||!Number.isInteger(t.code)||"string"!=typeof t.message)throw new Error("Must provide fallback error with integer number code and string message."); 
if(e instanceof o.EthereumRpcError)return e.serialize(); 
const f={}; 
if(e&&"object"==typeof e&&!Array.isArray(e)&&y(e,"code")&&h(e.code)){const t=e; 
f.code=t.code,t.message&&"string"==typeof t.message?(f.message=t.message,y(t,"data")&&(f.data=t.data)):(f.message=d(f.code),f.data={originalError:m(e)})}else{f.code=t.code; 
const r=null===(n=e)||void 0===n?void 0:n.message; 
f.message=r&&"string"==typeof r?r:t.message,f.data={originalError:m(e)}}const v=null===(c=e)||void 0===c?void 0:c.stack; 
return r&&e&&v&&"string"==typeof v&&(f.stack=v),f}},587:function(e,t,r){e.exports=r(1094)},693:function(e,t,r){"use strict"; 
(function(t,n){var o=r(42),c=r(57).errors,l=r(694).w3cwebsocket,d="[object process]"===Object.prototype.toString.call(void 0!==t?t:0),h=null,f=null; 
if(d){h=function(e){return n.from(e).toString("base64")}; 
var m=r(152); 
if(m.URL){var y=m.URL; 
f=function(e){return new y(e)}}else f=r(152).parse}else h=btoa,f=function(e){return new URL(e)}; 
var v=function(e,t){if(!l)throw new Error("websocket is not available"); 
var r=this; 
this.responseCallbacks={},this.notificationCallbacks=[],t=t||{},this._customTimeout=t.timeout; 
var n=f(e),c=t.headers||{},d=t.protocol||void 0; 
n.username&&n.password&&(c.authorization="Basic "+h(n.username+":"+n.password)); 
var m=t.clientConfig||void 0,y=t.requestOptions||void 0; 
n.auth&&(c.authorization="Basic "+h(n.auth)),this.connection=new l(e,d,void 0,c,y,m),this.addDefaultEvents(),this.connection.onmessage=function(e){var data="string"==typeof e.data?e.data:""; 
r._parseResponse(data).forEach((function(e){var t=null; 
o.isArray(e)?e.forEach((function(e){r.responseCallbacks[e.id]&&(t=e.id)})):t=e.id,!t&&e&&e.method&&-1!==e.method.indexOf("_subscription")?r.notificationCallbacks.forEach((function(t){o.isFunction(t)&&t(e)})):r.responseCallbacks[t]&&(r.responseCallbacks[t](null,e),delete r.responseCallbacks[t])}))},Object.defineProperty(this,"connected",{get:function(){return this.connection&&this.connection.readyState===this.connection.OPEN},enumerable:!0})}; 
v.prototype.addDefaultEvents=function(){var e=this; 
this.connection.onerror=function(){e._timeout()},this.connection.onclose=function(){e._timeout(),e.reset()}},v.prototype._parseResponse=function(data){var e=this,t=[]; 
return data.replace(/\}[\n\r]?\{/g,"}|--|{").replace(/\}\][\n\r]?\[\{/g,"}]|--|[{").replace(/\}[\n\r]?\[\{/g,"}|--|[{").replace(/\}\][\n\r]?\{/g,"}]|--|{").split("|--|").forEach((function(data){e.lastChunk&&(data=e.lastChunk+data); 
var r=null; 
try{r=JSON.parse(data)}catch(t){return e.lastChunk=data,clearTimeout(e.lastChunkTimeout),void(e.lastChunkTimeout=setTimeout((function(){throw e._timeout(),c.InvalidResponse(data)}),15e3))}clearTimeout(e.lastChunkTimeout),e.lastChunk=null,r&&t.push(r)})),t},v.prototype._addResponseCallback=function(e,t){var r=e.id||e[0].id,n=e.method||e[0].method; 
this.responseCallbacks[r]=t,this.responseCallbacks[r].method=n; 
var o=this; 
this._customTimeout&&setTimeout((function(){o.responseCallbacks[r]&&(o.responseCallbacks[r](c.ConnectionTimeout(o._customTimeout)),delete o.responseCallbacks[r])}),this._customTimeout)},v.prototype._timeout=function(){for(var e in this.responseCallbacks)this.responseCallbacks.hasOwnProperty(e)&&(this.responseCallbacks[e](c.InvalidConnection("on WS")),delete this.responseCallbacks[e])},v.prototype.send=function(e,t){var r=this; 
if(this.connection.readyState!==this.connection.CONNECTING){if(this.connection.readyState!==this.connection.OPEN)return console.error("connection not open on send()"),"function"==typeof this.connection.onerror?this.connection.onerror(new Error("connection not open")):console.error("no error callback"),void t(new Error("connection not open")); 
this.connection.send(JSON.stringify(e)),this._addResponseCallback(e,t)}else setTimeout((function(){r.send(e,t)}),10)},v.prototype.on=function(e,t){if("function"!=typeof t)throw new Error("The second parameter callback must be a function."); 
switch(e){case"data":this.notificationCallbacks.push(t); 
break; 
case"connect":this.connection.onopen=t; 
break; 
case"end":this.connection.onclose=t; 
break; 
case"error":this.connection.onerror=t}},v.prototype.removeListener=function(e,t){var r=this; 
switch(e){case"data":this.notificationCallbacks.forEach((function(e,n){e===t&&r.notificationCallbacks.splice(n,1)}))}},v.prototype.removeAllListeners=function(e){switch(e){case"data":this.notificationCallbacks=[]; 
break; 
case"connect":this.connection.onopen=null; 
break; 
case"end":this.connection.onclose=null; 
break; 
case"error":this.connection.onerror=null}},v.prototype.reset=function(){this._timeout(),this.notificationCallbacks=[],this.addDefaultEvents()},v.prototype.disconnect=function(){this.connection&&this.connection.close()},v.prototype.supportsSubscriptions=function(){return!0},e.exports=v}).call(this,r(28),r(11).Buffer)},702:function(e,t,r){var n=r(57).errors,o=r(382).XMLHttpRequest,c=r(308),l=r(392),d=function(e,t){t=t||{},this.withCredentials=t.withCredentials||!1,this.timeout=t.timeout||0,this.headers=t.headers,this.agent=t.agent,this.connected=!1; 
var r=!0===t.keepAlive||!1!==t.keepAlive; 
this.host=e||"http://localhost:8545",this.agent||("https"===this.host.substring(0,5)?this.httpsAgent=new l.Agent({keepAlive:r}):this.httpAgent=new c.Agent({keepAlive:r}))}; 
d.prototype._prepareRequest=function(){var e; 
if("undefined"!=typeof XMLHttpRequest)e=new XMLHttpRequest; 
else{e=new o; 
var t={httpsAgent:this.httpsAgent,httpAgent:this.httpAgent,baseUrl:this.baseUrl}; 
this.agent&&(t.httpsAgent=this.agent.https,t.httpAgent=this.agent.http,t.baseUrl=this.agent.baseUrl),e.nodejsSet(t)}return e.open("POST",this.host,!0),e.setRequestHeader("Content-Type","application/json"),e.timeout=this.timeout,e.withCredentials=this.withCredentials,this.headers&&this.headers.forEach((function(header){e.setRequestHeader(header.name,header.value)})),e},d.prototype.send=function(e,t){var r=this,o=this._prepareRequest(); 
o.onreadystatechange=function(){if(4===o.readyState&&1!==o.timeout){var e=o.responseText,c=null; 
try{e=JSON.parse(e)}catch(e){c=n.InvalidResponse(o.responseText)}r.connected=!0,t(c,e)}},o.ontimeout=function(){r.connected=!1,t(n.ConnectionTimeout(this.timeout))}; 
try{o.send(JSON.stringify(e))}catch(e){this.connected=!1,t(n.InvalidConnection(this.host))}},d.prototype.disconnect=function(){},d.prototype.supportsSubscriptions=function(){return!1},e.exports=d},717:function(e,t,r){"use strict"; 
var n=r(42),o=r(57).errors,c=r(718),l=function(path,e){var t=this; 
this.responseCallbacks={},this.notificationCallbacks=[],this.path=path,this.connected=!1,this.connection=e.connect({path:this.path}),this.addDefaultEvents(); 
var r=function(e){var r=null; 
n.isArray(e)?e.forEach((function(e){t.responseCallbacks[e.id]&&(r=e.id)})):r=e.id,r||-1===e.method.indexOf("_subscription")?t.responseCallbacks[r]&&(t.responseCallbacks[r](null,e),delete t.responseCallbacks[r]):t.notificationCallbacks.forEach((function(t){n.isFunction(t)&&t(e)}))}; 
"Socket"===e.constructor.name?c(this.connection).done(r):this.connection.on("data",(function(data){t._parseResponse(data.toString()).forEach(r)}))}; 
l.prototype.addDefaultEvents=function(){var e=this; 
this.connection.on("connect",(function(){e.connected=!0})),this.connection.on("close",(function(){e.connected=!1})),this.connection.on("error",(function(){e._timeout()})),this.connection.on("end",(function(){e._timeout()})),this.connection.on("timeout",(function(){e._timeout()}))},l.prototype._parseResponse=function(data){var e=this,t=[]; 
return data.replace(/\}[\n\r]?\{/g,"}|--|{").replace(/\}\][\n\r]?\[\{/g,"}]|--|[{").replace(/\}[\n\r]?\[\{/g,"}|--|[{").replace(/\}\][\n\r]?\{/g,"}]|--|{").split("|--|").forEach((function(data){e.lastChunk&&(data=e.lastChunk+data); 
var r=null; 
try{r=JSON.parse(data)}catch(t){return e.lastChunk=data,clearTimeout(e.lastChunkTimeout),void(e.lastChunkTimeout=setTimeout((function(){throw e._timeout(),o.InvalidResponse(data)}),15e3))}clearTimeout(e.lastChunkTimeout),e.lastChunk=null,r&&t.push(r)})),t},l.prototype._addResponseCallback=function(e,t){var r=e.id||e[0].id,n=e.method||e[0].method; 
this.responseCallbacks[r]=t,this.responseCallbacks[r].method=n},l.prototype._timeout=function(){for(var e in this.responseCallbacks)this.responseCallbacks.hasOwnProperty(e)&&(this.responseCallbacks[e](o.InvalidConnection("on IPC")),delete this.responseCallbacks[e])},l.prototype.reconnect=function(){this.connection.connect({path:this.path})},l.prototype.send=function(e,t){this.connection.writable||this.connection.connect({path:this.path}),this.connection.write(JSON.stringify(e)),this._addResponseCallback(e,t)},l.prototype.on=function(e,t){if("function"!=typeof t)throw new Error("The second parameter callback must be a function."); 
switch(e){case"data":this.notificationCallbacks.push(t); 
break; 
default:this.connection.on(e,t)}},l.prototype.once=function(e,t){if("function"!=typeof t)throw new Error("The second parameter callback must be a function."); 
this.connection.once(e,t)},l.prototype.removeListener=function(e,t){var r=this; 
switch(e){case"data":this.notificationCallbacks.forEach((function(e,n){e===t&&r.notificationCallbacks.splice(n,1)})); 
break; 
default:this.connection.removeListener(e,t)}},l.prototype.removeAllListeners=function(e){switch(e){case"data":this.notificationCallbacks=[]; 
break; 
default:this.connection.removeAllListeners(e)}},l.prototype.reset=function(){this._timeout(),this.notificationCallbacks=[],this.connection.removeAllListeners("error"),this.connection.removeAllListeners("end"),this.connection.removeAllListeners("timeout"),this.addDefaultEvents()},l.prototype.supportsSubscriptions=function(){return!0},e.exports=l}}]); 
